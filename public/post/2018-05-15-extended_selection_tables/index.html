<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Extended selection tables - Coded bioacoustics</title>

  <meta name="description" content="This post shows how to create and use the new warbleR object class extended_selection_table.
These objects are created with the selec_table() function. The function takes data frames containing selection data (sound file name, selection, start, end &hellip;), checks whether the information is consistent (see checksels() function for details) and saves the &lsquo;diagnostic&rsquo; metadata as an attribute. When the argument extended = TRUE the function generates an object of class extended_selection_table which also contains a list of wave objects corresponding to each of the selections in the data frame.">
  <meta name="author" content="Some Person"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Coded bioacoustics",
    
    "url": "marce10.github.io\/coded_bioacustics\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "marce10.github.io\/coded_bioacustics\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "marce10.github.io\/coded_bioacustics\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "marce10.github.io\/coded_bioacustics\/post\/2018-05-15-extended_selection_tables\/",
          "name": "Extended selection tables"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Marcelo Araya-Salas"
  },
  "headline": "Extended selection tables",
  "description" : "This post shows how to create and use the new warbleR object class extended_selection_table.\nThese objects are created with the selec_table() function. The function takes data frames containing selection data (sound file name, selection, start, end \u0026hellip;), checks whether the information is consistent (see checksels() function for details) and saves the \u0026lsquo;diagnostic\u0026rsquo; metadata as an attribute. When the argument extended = TRUE the function generates an object of class extended_selection_table which also contains a list of wave objects corresponding to each of the selections in the data frame.",
  "inLanguage" : "en",
  "wordCount":  2382 ,
  "datePublished" : "2018-05-15T00:00:00",
  "dateModified" : "2018-05-15T00:00:00",
  "image" : "marce10.github.io\/coded_bioacustics\/img\/blog_sticker_v2.png",
  "keywords" : [ "annotations, R" ],
  "mainEntityOfPage" : "marce10.github.io\/coded_bioacustics\/post\/2018-05-15-extended_selection_tables\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "marce10.github.io\/coded_bioacustics\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "marce10.github.io\/coded_bioacustics\/img\/blog_sticker_v2.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Extended selection tables" />
<meta property="og:description" content="This post shows how to create and use the new warbleR object class extended_selection_table.
These objects are created with the selec_table() function. The function takes data frames containing selection data (sound file name, selection, start, end &hellip;), checks whether the information is consistent (see checksels() function for details) and saves the &lsquo;diagnostic&rsquo; metadata as an attribute. When the argument extended = TRUE the function generates an object of class extended_selection_table which also contains a list of wave objects corresponding to each of the selections in the data frame.">
<meta property="og:image" content="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" />
<meta property="og:url" content="marce10.github.io/coded_bioacustics/marce10.github.io/coded_bioacustics/post/2018-05-15-extended_selection_tables/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Coded bioacoustics" />

  <meta name="twitter:title" content="Extended selection tables" />
  <meta name="twitter:description" content="This post shows how to create and use the new warbleR object class extended_selection_table.
These objects are created with the selec_table() function. The function takes data frames containing …">
  <meta name="twitter:image" content="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@username" />
  <meta name="twitter:creator" content="@username" />
  <link href='marce10.github.io/coded_bioacustics/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.121.2">
  <link rel="alternate" href="marce10.github.io/coded_bioacustics/index.xml" type="application/rss+xml" title="Coded bioacoustics"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/highlight.min.css" /><link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-RZVLSR0L9P"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-RZVLSR0L9P', { 'anonymize_ip': false });
}
</script>

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="marce10.github.io/coded_bioacustics/">Coded bioacoustics</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/marce10.github.io/coded_bioacustics/">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Samples</a>
              <div class="navlinks-children">
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2017-03-07-bigimg-sample">Big Image Sample</a>
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2017-03-05-math-sample">Math Sample</a>
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2016-03-08-code-sample">Code Sample</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="About" href="/marce10.github.io/coded_bioacustics/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/marce10.github.io/coded_bioacustics/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Coded bioacoustics" href="marce10.github.io/coded_bioacustics/">
            <img class="avatar-img" src="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" alt="Coded bioacoustics" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Extended selection tables</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on May 15, 2018
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;12&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;2382&nbsp;words
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Marcelo Araya-Salas
      
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <!-- raw HTML omitted -->
<p>This post shows how to create and use the new <a href="https://cran.r-project.org/package=warbleR">warbleR</a> object class <em>extended_selection_table</em>.</p>
<p>These objects are created with the <code>selec_table()</code> function. The function takes data frames containing selection data (sound file name, selection, start, end &hellip;), checks whether the information is consistent (see <code>checksels()</code> function for details) and saves the &lsquo;diagnostic&rsquo; metadata as an attribute. When the argument <code>extended = TRUE</code> the function generates an object of class <em>extended_selection_table</em> which also contains a list of wave objects corresponding to each of the selections in the data frame. Hence, the function <strong>transforms selection tables into self-contained objects</strong> as they no longer need the original sound files for running most acoustic analysis in
<a href="https://cran.r-project.org/package=warbleR">warbleR</a>. This can facilitate a lot the storing and sharing of (bio)acoustic data. In addition, it also speeds up processes as sound files do not need to be read every time the data is analyzed.</p>
<p>Let&rsquo;s first install and/or load <a href="https://cran.r-project.org/package=warbleR">warbleR</a> developmental version (if there is an older <a href="https://cran.r-project.org/package=warbleR">warbleR</a> version installed it has to be removed first):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># remove warbleR</span>
</span></span><span class="line"><span class="cl"><span class="nf">remove.packages</span><span class="p">(</span><span class="s">&#34;warbleR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># install devtools if not installed</span>
</span></span><span class="line"><span class="cl"><span class="kr">if</span> <span class="p">(</span><span class="o">!</span><span class="s">&#34;devtools&#34;</span> <span class="o">%in%</span> <span class="nf">installed.packages</span><span class="p">()</span><span class="n">[</span><span class="p">,</span><span class="s">&#34;Package&#34;</span><span class="n">]</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">  <span class="nf">install.packages</span><span class="p">(</span><span class="s">&#34;devtools&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># and install warbleR from github</span>
</span></span><span class="line"><span class="cl"><span class="n">devtools</span><span class="o">::</span><span class="nf">install_github</span><span class="p">(</span><span class="s">&#34;maRce10/warbleR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># load warbleR</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">warbleR</span><span class="p">)</span>
</span></span></code></pre></div><p>&hellip; set a temporary folder, load the example sound files and set <a href="https://cran.r-project.org/package=warbleR">warbleR</a> options (see <code>warbleR_options()</code> documentation):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># set temporary directory</span>
</span></span><span class="line"><span class="cl"><span class="nf">setwd</span><span class="p">(</span><span class="nf">tempdir</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># load example data</span>
</span></span><span class="line"><span class="cl"><span class="nf">data</span><span class="p">(</span><span class="n">list</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;Phae.long1&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long2&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long3&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="s">&#34;selec.table&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># save recordings as wave files</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long1</span><span class="p">,</span><span class="s">&#34;Phae.long1.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long2</span><span class="p">,</span><span class="s">&#34;Phae.long2.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long3</span><span class="p">,</span><span class="s">&#34;Phae.long3.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long4</span><span class="p">,</span><span class="s">&#34;Phae.long4.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># set warbleR options</span>
</span></span><span class="line"><span class="cl"><span class="nf">warbleR_options</span><span class="p">(</span><span class="n">wl</span> <span class="o">=</span> <span class="m">300</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">          <span class="n">parallel</span> <span class="o">=</span> <span class="n">parallel</span><span class="o">::</span><span class="nf">detectCores</span><span class="p">()</span> <span class="o">-</span> <span class="m">1</span><span class="p">)</span>
</span></span></code></pre></div><p>Now, as mentioned above, you need the <code>selec_table()</code> function to create extended selection table. You also need to set the the argument <code>extended = TRUE</code> (otherwise the class would be a &ldquo;selection_table&rdquo;). Here the example data that comes with <a href="https://cran.r-project.org/package=warbleR">warbleR</a> is used as the data frame to be converted to an object of class <em>extended_selection_table</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">selec.table</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<p>The following code converts it to an extended selection table:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># make extended selection table</span>
</span></span><span class="line"><span class="cl"><span class="n">ext_st</span> <span class="o">&lt;-</span> <span class="nf">selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">selec.table</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">          <span class="n">extended</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">confirm.extended</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span></code></pre></div><p>And that&rsquo;s it. Now the acoustic data and the selection data (as well as the additional metadata) are all together in a single <em>R</em> object.</p>
<p> </p>
<h2 id="manipulating-extended-selection-tables">Manipulating extended selection tables</h2>
<p>Several functions can be used to deal with objects of this class. You can test if the object belongs to the <em>extended_selection_table</em>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">ext_st</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] TRUE
</span></span></code></pre></div><p>You can subset the selection in the same way that any other data frame in it will maintain its attributes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">ext_st2</span> <span class="o">&lt;-</span> <span class="n">ext_st[1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span> <span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">ext_st2</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] TRUE
</span></span></code></pre></div><p>There is also a generic version of <code>print()</code> for these class of objects:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## print</span>
</span></span><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">ext_st</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">object of class &#39;extended_selection_table&#39; 
</span></span><span class="line"><span class="cl"> contains a selection table data frame with 11 rows and 9 columns: 
</span></span><span class="line"><span class="cl">       sound.files channel selec start     end bottom.freq top.freq sel.comment rec.comment
</span></span><span class="line"><span class="cl">1 Phae.long1.wav_1       1     1   0.1 0.27303      2.2201   8.6044         c24          NA
</span></span><span class="line"><span class="cl">2 Phae.long1.wav_2       1     1   0.1 0.26305      2.1694   8.8071         c25          NA
</span></span><span class="line"><span class="cl">3 Phae.long1.wav_3       1     1   0.1 0.27492      2.2183   8.7566         c26          NA
</span></span><span class="line"><span class="cl">4 Phae.long2.wav_1       1     1   0.1 0.23257      2.3169   8.8223         c27          NA
</span></span><span class="line"><span class="cl">5 Phae.long2.wav_2       1     1   0.1 0.22615      2.2840   8.8880         c28          NA
</span></span><span class="line"><span class="cl">6 Phae.long3.wav_1       1     1   0.1 0.23122      3.0068   8.8223         c29          NA
</span></span><span class="line"><span class="cl">... and 5 more rows 
</span></span><span class="line"><span class="cl">11 wave objects (as attributes): 
</span></span><span class="line"><span class="cl">[1] &#34;Phae.long1.wav_1&#34; &#34;Phae.long1.wav_2&#34; &#34;Phae.long1.wav_3&#34; &#34;Phae.long2.wav_1&#34; &#34;Phae.long2.wav_2&#34;
</span></span><span class="line"><span class="cl">[6] &#34;Phae.long3.wav_1&#34;
</span></span><span class="line"><span class="cl">... and 5 more 
</span></span><span class="line"><span class="cl">and a data frame (check.results) generated by checkres() (as attribute) 
</span></span><span class="line"><span class="cl">the selection table was created by element (see &#39;class_extended_selection_table&#39;)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">## which is the same than this</span>
</span></span><span class="line"><span class="cl"><span class="n">ext_st</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">object of class &#39;extended_selection_table&#39; 
</span></span><span class="line"><span class="cl"> contains a selection table data frame with 11 rows and 9 columns: 
</span></span><span class="line"><span class="cl">       sound.files channel selec start     end bottom.freq top.freq sel.comment rec.comment
</span></span><span class="line"><span class="cl">1 Phae.long1.wav_1       1     1   0.1 0.27303      2.2201   8.6044         c24          NA
</span></span><span class="line"><span class="cl">2 Phae.long1.wav_2       1     1   0.1 0.26305      2.1694   8.8071         c25          NA
</span></span><span class="line"><span class="cl">3 Phae.long1.wav_3       1     1   0.1 0.27492      2.2183   8.7566         c26          NA
</span></span><span class="line"><span class="cl">4 Phae.long2.wav_1       1     1   0.1 0.23257      2.3169   8.8223         c27          NA
</span></span><span class="line"><span class="cl">5 Phae.long2.wav_2       1     1   0.1 0.22615      2.2840   8.8880         c28          NA
</span></span><span class="line"><span class="cl">6 Phae.long3.wav_1       1     1   0.1 0.23122      3.0068   8.8223         c29          NA
</span></span><span class="line"><span class="cl">... and 5 more rows 
</span></span><span class="line"><span class="cl">11 wave objects (as attributes): 
</span></span><span class="line"><span class="cl">[1] &#34;Phae.long1.wav_1&#34; &#34;Phae.long1.wav_2&#34; &#34;Phae.long1.wav_3&#34; &#34;Phae.long2.wav_1&#34; &#34;Phae.long2.wav_2&#34;
</span></span><span class="line"><span class="cl">[6] &#34;Phae.long3.wav_1&#34;
</span></span><span class="line"><span class="cl">... and 5 more 
</span></span><span class="line"><span class="cl">and a data frame (check.results) generated by checkres() (as attribute) 
</span></span><span class="line"><span class="cl">the selection table was created by element (see &#39;class_extended_selection_table&#39;)
</span></span></code></pre></div><p>You can also row-bind them together. Here the original <em>extended_selection_table</em> is split into 2 and bind back together using <code>rbind()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">ext_st3</span> <span class="o">&lt;-</span> <span class="n">ext_st[1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ext_st4</span> <span class="o">&lt;-</span> <span class="n">ext_st[6</span><span class="o">:</span><span class="m">11</span><span class="p">,</span> <span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ext_st5</span> <span class="o">&lt;-</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">ext_st3</span><span class="p">,</span> <span class="n">ext_st4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#print</span>
</span></span><span class="line"><span class="cl"><span class="n">ext_st5</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">object of class &#39;extended_selection_table&#39; 
</span></span><span class="line"><span class="cl"> contains a selection table data frame with 11 rows and 9 columns: 
</span></span><span class="line"><span class="cl">       sound.files channel selec start     end bottom.freq top.freq sel.comment rec.comment
</span></span><span class="line"><span class="cl">1 Phae.long1.wav_1       1     1   0.1 0.27303      2.2201   8.6044         c24          NA
</span></span><span class="line"><span class="cl">2 Phae.long1.wav_2       1     1   0.1 0.26305      2.1694   8.8071         c25          NA
</span></span><span class="line"><span class="cl">3 Phae.long1.wav_3       1     1   0.1 0.27492      2.2183   8.7566         c26          NA
</span></span><span class="line"><span class="cl">4 Phae.long2.wav_1       1     1   0.1 0.23257      2.3169   8.8223         c27          NA
</span></span><span class="line"><span class="cl">5 Phae.long2.wav_2       1     1   0.1 0.22615      2.2840   8.8880         c28          NA
</span></span><span class="line"><span class="cl">6 Phae.long3.wav_1       1     1   0.1 0.23122      3.0068   8.8223         c29          NA
</span></span><span class="line"><span class="cl">... and 5 more rows 
</span></span><span class="line"><span class="cl">11 wave objects (as attributes): 
</span></span><span class="line"><span class="cl">[1] &#34;Phae.long1.wav_1&#34; &#34;Phae.long1.wav_2&#34; &#34;Phae.long1.wav_3&#34; &#34;Phae.long2.wav_1&#34; &#34;Phae.long2.wav_2&#34;
</span></span><span class="line"><span class="cl">[6] &#34;Phae.long3.wav_1&#34;
</span></span><span class="line"><span class="cl">... and 5 more 
</span></span><span class="line"><span class="cl">and a data frame (check.results) generated by checkres() (as attribute) 
</span></span><span class="line"><span class="cl">the selection table was created by element (see &#39;class_extended_selection_table&#39;)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># the same than the original one</span>
</span></span><span class="line"><span class="cl"><span class="nf">all.equal</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="n">ext_st5</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] TRUE
</span></span></code></pre></div><p>The wave objects can be indvidually read using <code>read_sound_file()</code>, a wrapper on tuneR&rsquo;s <code>readWave()</code> function, that can take extended selection tables:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">wv1</span> <span class="o">&lt;-</span> <span class="nf">read_sound_file</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">ext_st</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">from</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">to</span> <span class="o">=</span> <span class="m">0.37</span><span class="p">)</span>
</span></span></code></pre></div><p>These are regular wave objects:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">wv1</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] &#34;Wave&#34;
</span></span><span class="line"><span class="cl">attr(,&#34;package&#34;)
</span></span><span class="line"><span class="cl">[1] &#34;tuneR&#34;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">wv1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Wave Object
</span></span><span class="line"><span class="cl">	Number of Samples:      8325
</span></span><span class="line"><span class="cl">	Duration (seconds):     0.37
</span></span><span class="line"><span class="cl">	Samplingrate (Hertz):   22500
</span></span><span class="line"><span class="cl">	Channels (Mono/Stereo): Mono
</span></span><span class="line"><span class="cl">	PCM (integer format):   TRUE
</span></span><span class="line"><span class="cl">	Bit (8/16/24/32/64):    16 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">spectro</span><span class="p">(</span><span class="n">wv1</span><span class="p">,</span> <span class="n">wl</span> <span class="o">=</span> <span class="m">150</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">ovlp</span> <span class="o">=</span> <span class="m">90</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./img/extn_sel_8.22-1.png" alt="plot of chunk unnamed-chunk-3"></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span> <span class="n">mar</span> <span class="o">=</span> <span class="nf">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">for</span><span class="p">(</span><span class="n">i</span> <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="n">wv</span> <span class="o">&lt;-</span> <span class="nf">read_sound_file</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">ext_st</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">from</span> <span class="o">=</span> <span class="m">0.05</span><span class="p">,</span> <span class="n">to</span> <span class="o">=</span> <span class="m">0.32</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nf">spectro</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">wl</span> <span class="o">=</span> <span class="m">150</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">axisX</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">axisY</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">ovlp</span> <span class="o">=</span> <span class="m">90</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><img src="./img/extn_sel_8.23-1.png" alt="plot of chunk unnamed-chunk-3"></p>
<p>The <code>read_sound_file()</code> function takes the table as well as the index of the selection to be read (e.g. the row number).</p>
<p>Keep in mind that is likely that other functions that modify data frames will remove the attributes in which wave objects and metadata are stored. For instances, merging and extended selection table will get rid of its attributes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># create a new data frame </span>
</span></span><span class="line"><span class="cl"><span class="n">Y</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">sound.files</span> <span class="o">=</span> <span class="n">ext_st</span><span class="o">$</span><span class="n">sound.files</span><span class="p">,</span> <span class="n">site</span> <span class="o">=</span> <span class="s">&#34;La Selva&#34;</span><span class="p">,</span> <span class="n">lek</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="nf">rep</span><span class="p">(</span><span class="s">&#34;SUR&#34;</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> <span class="nf">rep</span><span class="p">(</span><span class="s">&#34;CCL&#34;</span><span class="p">,</span> <span class="m">6</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># merge</span>
</span></span><span class="line"><span class="cl"><span class="n">mrg_ext_st</span> <span class="o">&lt;-</span> <span class="nf">merge</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#34;sound.files&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">mrg_ext_st</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] FALSE
</span></span></code></pre></div><p>In this case we can use the <code>fix_extended_selection_table()</code> function to transfer the attributes from the original extended selection table:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># fix</span>
</span></span><span class="line"><span class="cl"><span class="n">mrg_ext_st</span> <span class="o">&lt;-</span> <span class="nf">fix_extended_selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">mrg_ext_st</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">ext_st</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">mrg_ext_st</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] TRUE
</span></span></code></pre></div><p>This works as long as some of the original sound files are kept and no other selections are added.</p>
<p> </p>
<h2 id="object-size">Object size</h2>
<p>Extended selection table size will be a function of the number of selections, sampling rate, selection duration and margin duration (the margin is how much extra time you want to keep at each side of the selection). In this example a data frame with 1000 selections is created just by repeating the example data frame several times and then converted to an extended selection table:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">lng.selec.table</span> <span class="o">&lt;-</span> <span class="nf">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span> <span class="nf">replicate</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="n">selec.table</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="n">simplify</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">))</span><span class="n">[1</span><span class="o">:</span><span class="m">1000</span><span class="p">,</span><span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">lng.selec.table</span><span class="o">$</span><span class="n">selec</span> <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">lng.selec.table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">nrow</span><span class="p">(</span><span class="n">lng.selec.table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">lng_ext_st</span> <span class="o">&lt;-</span> <span class="nf">selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">lng.selec.table</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="n">extended</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">confirm.extended</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">lng_ext_st</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">object of class &#39;extended_selection_table&#39; 
</span></span><span class="line"><span class="cl"> contains a selection table data frame with 1000 rows and 9 columns: 
</span></span><span class="line"><span class="cl">       sound.files channel selec start     end bottom.freq top.freq sel.comment rec.comment
</span></span><span class="line"><span class="cl">1 Phae.long1.wav_1       1     1   0.1 0.27303      2.2201   8.6044         c24          NA
</span></span><span class="line"><span class="cl">2 Phae.long1.wav_2       1     1   0.1 0.26305      2.1694   8.8071         c25          NA
</span></span><span class="line"><span class="cl">3 Phae.long1.wav_3       1     1   0.1 0.27492      2.2183   8.7566         c26          NA
</span></span><span class="line"><span class="cl">4 Phae.long2.wav_4       1     1   0.1 0.23257      2.3169   8.8223         c27          NA
</span></span><span class="line"><span class="cl">5 Phae.long2.wav_5       1     1   0.1 0.22615      2.2840   8.8880         c28          NA
</span></span><span class="line"><span class="cl">6 Phae.long3.wav_6       1     1   0.1 0.23122      3.0068   8.8223         c29          NA
</span></span><span class="line"><span class="cl">... and 994 more rows 
</span></span><span class="line"><span class="cl">1000 wave objects (as attributes): 
</span></span><span class="line"><span class="cl">[1] &#34;Phae.long1.wav_1&#34; &#34;Phae.long1.wav_2&#34; &#34;Phae.long1.wav_3&#34; &#34;Phae.long2.wav_4&#34; &#34;Phae.long2.wav_5&#34;
</span></span><span class="line"><span class="cl">[6] &#34;Phae.long3.wav_6&#34;
</span></span><span class="line"><span class="cl">... and 994 more 
</span></span><span class="line"><span class="cl">and a data frame (check.results) generated by checkres() (as attribute) 
</span></span><span class="line"><span class="cl">the selection table was created by element (see &#39;class_extended_selection_table&#39;)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">format</span><span class="p">(</span><span class="nf">object.size</span><span class="p">(</span><span class="n">lng_ext_st</span><span class="p">),</span> <span class="n">units</span> <span class="o">=</span> <span class="s">&#34;auto&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] &#34;31.3 Mb&#34;
</span></span></code></pre></div><p>As you can see the object size is only ~31 MB. So, as a guide, a selection table with 1000 selections similar to those in &lsquo;selec.table&rsquo; (mean duration ~0.15 seconds) at 22.5 kHz sampling rate and the default margin (mar = 0.1) will generate an extended selection table of ~31 MB or ~310 MB for a 10000 row selection table.</p>
<p> </p>
<h2 id="running-analysis-on-extended-selection-tables">Running analysis on extended selection tables</h2>
<p>These objects can be used as input for most <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions. We need to delete the sound files in order to show the data is actually contained in the new objects:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">list.files</span><span class="p">(</span><span class="n">pattern</span> <span class="o">=</span> <span class="s">&#34;\\.wav$&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] &#34;Phae.long1.wav&#34; &#34;Phae.long2.wav&#34; &#34;Phae.long3.wav&#34; &#34;Phae.long4.wav&#34;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># delete files (be careful not to run this </span>
</span></span><span class="line"><span class="cl"><span class="c1"># if you have sound files in the working directory!)</span>
</span></span><span class="line"><span class="cl"><span class="nf">unlink</span><span class="p">(</span><span class="nf">list.files</span><span class="p">(</span><span class="n">pattern</span> <span class="o">=</span> <span class="s">&#34;\\.wav$&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">list.files</span><span class="p">(</span><span class="n">pattern</span> <span class="o">=</span> <span class="s">&#34;\\.wav$&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">character(0)
</span></span></code></pre></div><p>Here are a few examples of <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions using <em>extended_selection_table</em>:</p>
<h4 id="spectral-parameters">Spectral parameters</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># spectral parameters</span>
</span></span><span class="line"><span class="cl"><span class="n">sp</span> <span class="o">&lt;-</span> <span class="nf">specan</span><span class="p">(</span><span class="n">ext_st</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sp</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<h4 id="cross-correlation">Cross correlation</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">xc</span> <span class="o">&lt;-</span> <span class="nf">xcorr</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="n">bp</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">11</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">xc</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<h4 id="signal-to-noise-ratio">Signal-to-noise ratio</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># signal-to-noise ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">snr</span> <span class="o">&lt;-</span> <span class="nf">sig2noise</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="n">mar</span> <span class="o">=</span> <span class="m">0.05</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">snr</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<h4 id="dynamic-time-warping-distance">Dynamic time warping distance</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">dtw.dist</span> <span class="o">&lt;-</span> <span class="nf">dfDTW</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">dtw.dist</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">calculating DTW distances (step 2 of 2, no progress bar):
</span></span></code></pre></div><!-- raw HTML omitted -->
<h2 id="performance">Performance</h2>
<p>Using <em>extended_selection_table</em> objects can improve performance (in our case measured as time). Here we used the <a href="https://cran.r-project.org/package=microbenchmark">microbenchmark</a> to compare the performance of <code>sig2noise()</code> and <a href="https://cran.r-project.org/package=ggplot2">ggplot2</a> to plot the results. We also need to save the wave files again to be able to run the analysis with regular data frames:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># save recordings as wave files</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long1</span><span class="p">,</span><span class="s">&#34;Phae.long1.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long2</span><span class="p">,</span><span class="s">&#34;Phae.long2.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long3</span><span class="p">,</span><span class="s">&#34;Phae.long3.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long4</span><span class="p">,</span><span class="s">&#34;Phae.long4.wav&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#run this one if microbenchmark is not installed</span>
</span></span><span class="line"><span class="cl"><span class="c1"># install.packages(&#34;microbenchmark&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">microbenchmark</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># install.packages(&#34;ggplot2&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># use only 1 core</span>
</span></span><span class="line"><span class="cl"><span class="nf">warbleR_options</span><span class="p">(</span><span class="n">parallel</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># use the first 100 selection for the long selection tables</span>
</span></span><span class="line"><span class="cl"><span class="n">mbmrk.snr</span> <span class="o">&lt;-</span> <span class="nf">microbenchmark</span><span class="p">(</span><span class="n">extended</span> <span class="o">=</span> <span class="nf">sig2noise</span><span class="p">(</span><span class="n">lng_ext_st[1</span><span class="o">:</span><span class="m">100</span><span class="p">,</span> <span class="n">]</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">      <span class="n">mar</span> <span class="o">=</span> <span class="m">0.05</span><span class="p">),</span> <span class="n">regular</span> <span class="o">=</span> <span class="nf">sig2noise</span><span class="p">(</span><span class="n">lng.selec.table[1</span><span class="o">:</span><span class="m">100</span><span class="p">,</span> <span class="n">]</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                    <span class="n">mar</span> <span class="o">=</span> <span class="m">0.05</span><span class="p">),</span> <span class="n">times</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">autoplot</span><span class="p">(</span><span class="n">mbmrk.snr</span><span class="p">)</span> <span class="o">+</span> <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&#34;sig2noise&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./img/extn_sel_13-1.png" alt="plot of chunk unnamed-chunk-3"></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Distribution of <!-- raw HTML omitted --><code>sig2noise()</code><!-- raw HTML omitted --> timing on regular and extended selection tables<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>The function runs much faster on extended selection tables. The gain in performance is likely to improve when using longer recordings and data sets (i.e. compensate for computing overhead).</p>
<h2 id="by-song">By song</h2>
<p>The extended selection tables above were all made &lsquo;by selection&rsquo;. This is, each sound file inside the object contains a single selection (i.e. 1:1 correspondence between selections and wave objects). Extended selection tables, however, can also be created by using a higher hierarchical level with the argument <code>by.song</code>. In this case, &lsquo;song&rsquo; represents a higher level that contains one or more selections and that the user may want to keep together for some particular analysis (e.g. gap duration). The argument <code>by.song</code> takes the name of the character or factor column with the IDs of the different &ldquo;songs&rdquo; within a sound file (note that the function assumes that a given song can only be found in a single sound file so selections with the same song ID but from different sound files is taken as different &lsquo;songs&rsquo;).</p>
<p>For the sake of the example, let&rsquo;s add an artificial song column to our example data set in which each sound files 2 songs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># add column</span>
</span></span><span class="line"><span class="cl"><span class="n">selec.table</span><span class="o">$</span><span class="n">song</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
</span></span></code></pre></div><p>The data frame looks like this:</p>
<!-- raw HTML omitted -->
<p>Now we can create an extended selection table &lsquo;by song&rsquo; using the name of the &lsquo;song&rsquo; column (which in this silly example is also &lsquo;song&rsquo;) as the input for the <code>by.song</code> argument:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">bs_ext_st</span> <span class="o">&lt;-</span> <span class="nf">selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">selec.table</span><span class="p">,</span> <span class="n">extended</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                              <span class="n">confirm.extended</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">by.song</span> <span class="o">=</span> <span class="s">&#34;song&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>In this case we should only have 8 wave objects instead of 11 as when the object was created &lsquo;by selection&rsquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># by element</span>
</span></span><span class="line"><span class="cl"><span class="nf">length</span><span class="p">(</span><span class="nf">attr</span><span class="p">(</span><span class="n">ext_st</span><span class="p">,</span> <span class="s">&#34;wave.objects&#34;</span><span class="p">))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] 11
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># by song</span>
</span></span><span class="line"><span class="cl"><span class="nf">length</span><span class="p">(</span><span class="nf">attr</span><span class="p">(</span><span class="n">bs_ext_st</span><span class="p">,</span> <span class="s">&#34;wave.objects&#34;</span><span class="p">))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] 8
</span></span></code></pre></div><p>Again, these objects can also be used on further analysis:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># signal-to-noise ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">bs_snr</span> <span class="o">&lt;-</span> <span class="nf">sig2noise</span><span class="p">(</span><span class="n">bs_ext_st</span><span class="p">,</span> <span class="n">mar</span> <span class="o">=</span> <span class="m">0.05</span><span class="p">)</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<p>The margin would be an important parameter to take into consideration for some downstream functions like those producing plots or using additional time segments around selection to run analysis (e.g. <code>sig2noise()</code> or <code>xcorr()</code>).</p>
<h2 id="sharing-acoustic-data">Sharing acoustic data</h2>
<p>The new object class allows to share complete data sets, including the acoustic data. For instance, with the following code you can download a subset of the data used in <a href="https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/araya-salas_smith-vidaurre___webster_2017._table_s1._recording_metadata.xlsx">Araya-Salas <em>et al</em> (2017)</a> (it can also be downloaded <a href="https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/extended.selection.table.araya-salas.et.al.2017.bioacoustics.100.sels.rds">here</a>):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">URL</span> <span class="o">&lt;-</span> <span class="s">&#34;https://marceloarayasalas.weebly.com/uploads/2/5/5/2/25524573/extended.selection.table.araya-salas.et.al.2017.bioacoustics.100.sels.rds&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">dat</span> <span class="o">&lt;-</span> <span class="nf">readRDS</span><span class="p">(</span><span class="nf">gzcon</span><span class="p">(</span><span class="nf">url</span><span class="p">(</span><span class="n">URL</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">nrow</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] 100
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">format</span><span class="p">(</span><span class="nf">object.size</span><span class="p">(</span><span class="n">dat</span><span class="p">),</span> <span class="n">units</span> <span class="o">=</span> <span class="s">&#34;auto&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[1] &#34;10.1 Mb&#34;
</span></span></code></pre></div><p>The total size of the 100 sound files from which these selections were taken adds up to 1.1 GB. The size of the extended selection table is just 10.1 MB.</p>
<p>This data is ready to be used:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">sp</span> <span class="o">&lt;-</span> <span class="nf">specan</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span> <span class="n">bp</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<p>And the spectrograms can be displayed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">par</span><span class="p">(</span><span class="n">mfrow</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span> <span class="n">mar</span> <span class="o">=</span> <span class="nf">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">for</span><span class="p">(</span><span class="n">i</span> <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="n">wv</span> <span class="o">&lt;-</span> <span class="nf">read_sound_file</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">dat</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">from</span> <span class="o">=</span> <span class="m">0.17</span><span class="p">,</span> <span class="n">to</span> <span class="o">=</span> <span class="m">0.4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nf">spectro</span><span class="p">(</span><span class="n">wv</span><span class="p">,</span> <span class="n">wl</span> <span class="o">=</span> <span class="m">250</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">axisX</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">axisY</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">ovlp</span> <span class="o">=</span> <span class="m">90</span><span class="p">,</span> <span class="n">flim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">12</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">          <span class="n">palette</span> <span class="o">=</span> <span class="n">reverse.gray.colors.1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><img src="./img/extn.sel_21-1.png" alt="plot of chunk unnamed-chunk-6"></p>
<p>The ability to compress large data sets and the easiness of conducting analyses requiring only a single <em>R</em> object can potentially simplify data sharing and the reproducibility of bioacoustic analyses.</p>
<p>Please report any bugs <a href="https://github.com/maRce10/warbleR/issues">here</a>.</p>
<hr>
<p><!-- raw HTML omitted -->Session information<!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">R</span> <span class="n">version</span> <span class="mf">3.4</span><span class="o">.</span><span class="mi">4</span> <span class="p">(</span><span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">15</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Platform</span><span class="p">:</span> <span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span> <span class="p">(</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Running</span> <span class="n">under</span><span class="p">:</span> <span class="n">Ubuntu</span> <span class="mf">16.04</span><span class="o">.</span><span class="mi">5</span> <span class="n">LTS</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Matrix</span> <span class="n">products</span><span class="p">:</span> <span class="n">default</span>
</span></span><span class="line"><span class="cl"><span class="n">BLAS</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">openblas</span><span class="o">-</span><span class="n">base</span><span class="o">/</span><span class="n">libblas</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">LAPACK</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libopenblasp</span><span class="o">-</span><span class="n">r0</span><span class="o">.</span><span class="mf">2.18</span><span class="o">.</span><span class="n">so</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">locale</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">LC_CTYPE</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>       <span class="n">LC_NUMERIC</span><span class="o">=</span><span class="n">C</span>               <span class="n">LC_TIME</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>        <span class="n">LC_COLLATE</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>    
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="n">LC_MONETARY</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>    <span class="n">LC_MESSAGES</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>    <span class="n">LC_PAPER</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>       <span class="n">LC_NAME</span><span class="o">=</span><span class="n">C</span>                 
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="n">LC_ADDRESS</span><span class="o">=</span><span class="n">C</span>               <span class="n">LC_TELEPHONE</span><span class="o">=</span><span class="n">C</span>             <span class="n">LC_MEASUREMENT</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">LC_IDENTIFICATION</span><span class="o">=</span><span class="n">C</span>       
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">attached</span> <span class="n">base</span> <span class="n">packages</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">stats</span>     <span class="n">graphics</span>  <span class="n">grDevices</span> <span class="n">utils</span>     <span class="n">datasets</span>  <span class="n">methods</span>   <span class="n">base</span>     
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">other</span> <span class="n">attached</span> <span class="n">packages</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">ggplot2_3</span><span class="o">.</span><span class="mf">0.0</span>        <span class="n">microbenchmark_1</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="mi">4</span> <span class="n">kableExtra_0</span><span class="o">.</span><span class="mf">9.0</span>     <span class="n">knitr_1</span><span class="o">.</span><span class="mi">20</span>           <span class="n">warbleR_1</span><span class="o">.</span><span class="mf">1.15</span>      
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="n">NatureSounds_1</span><span class="o">.</span><span class="mf">0.0</span>   <span class="n">seewave_2</span><span class="o">.</span><span class="mf">1.0</span>        <span class="n">tuneR_1</span><span class="o">.</span><span class="mf">3.3</span>          <span class="n">maps_3</span><span class="o">.</span><span class="mf">3.0</span>          
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">loaded</span> <span class="n">via</span> <span class="n">a</span> <span class="n">namespace</span> <span class="p">(</span><span class="ow">and</span> <span class="ow">not</span> <span class="n">attached</span><span class="p">):</span>
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">rgl_0</span><span class="o">.</span><span class="mf">95.1441</span>        <span class="n">Rcpp_0</span><span class="o">.</span><span class="mf">12.18</span>         <span class="n">fftw_1</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span>           <span class="n">assertthat_0</span><span class="o">.</span><span class="mf">2.0</span>     <span class="n">rprojroot_1</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">2</span>     
</span></span><span class="line"><span class="cl"> <span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="n">digest_0</span><span class="o">.</span><span class="mf">6.16</span>        <span class="n">R6_2</span><span class="o">.</span><span class="mf">2.2</span>             <span class="n">plyr_1</span><span class="o">.</span><span class="mf">8.4</span>           <span class="n">Sim</span><span class="o">.</span><span class="n">DiffProc_4</span><span class="o">.</span><span class="mi">1</span>     <span class="n">backports_1</span><span class="o">.</span><span class="mf">1.2</span>     
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="n">signal_0</span><span class="o">.</span><span class="mi">7</span><span class="o">-</span><span class="mi">6</span>         <span class="n">evaluate_0</span><span class="o">.</span><span class="mi">11</span>        <span class="n">pracma_2</span><span class="o">.</span><span class="mf">1.5</span>         <span class="n">httr_1</span><span class="o">.</span><span class="mf">3.1</span>           <span class="n">highr_0</span><span class="o">.</span><span class="mi">7</span>           
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="n">pillar_1</span><span class="o">.</span><span class="mf">3.0</span>         <span class="n">rlang_0</span><span class="o">.</span><span class="mf">2.2</span>          <span class="n">lazyeval_0</span><span class="o">.</span><span class="mf">2.1</span>       <span class="n">curl_3</span><span class="o">.</span><span class="mi">2</span>             <span class="n">rstudioapi_0</span><span class="o">.</span><span class="mi">7</span>      
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">21</span><span class="p">]</span> <span class="n">rmarkdown_1</span><span class="o">.</span><span class="mi">10</span>       <span class="n">devtools_1</span><span class="o">.</span><span class="mf">13.6</span>      <span class="n">moments_0</span><span class="o">.</span><span class="mi">14</span>         <span class="n">readr_1</span><span class="o">.</span><span class="mf">1.1</span>          <span class="n">stringr_1</span><span class="o">.</span><span class="mf">3.1</span>       
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">26</span><span class="p">]</span> <span class="n">RCurl_1</span><span class="o">.</span><span class="mi">95</span><span class="o">-</span><span class="mf">4.11</span>      <span class="n">munsell_0</span><span class="o">.</span><span class="mf">5.0</span>        <span class="n">proxy_0</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="mi">22</span>         <span class="n">compiler_3</span><span class="o">.</span><span class="mf">4.4</span>       <span class="n">Deriv_3</span><span class="o">.</span><span class="mf">8.5</span>         
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">31</span><span class="p">]</span> <span class="n">pkgconfig_2</span><span class="o">.</span><span class="mf">0.2</span>      <span class="n">htmltools_0</span><span class="o">.</span><span class="mf">3.6</span>      <span class="n">tidyselect_0</span><span class="o">.</span><span class="mf">2.4</span>     <span class="n">tibble_1</span><span class="o">.</span><span class="mf">4.2</span>         <span class="n">dtw_1</span><span class="o">.</span><span class="mi">20</span><span class="o">-</span><span class="mi">1</span>          
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">36</span><span class="p">]</span> <span class="n">bioacoustics_0</span><span class="o">.</span><span class="mf">1.5</span>   <span class="n">viridisLite_0</span><span class="o">.</span><span class="mf">3.0</span>    <span class="n">crayon_1</span><span class="o">.</span><span class="mf">3.4</span>         <span class="n">dplyr_0</span><span class="o">.</span><span class="mf">7.6</span>          <span class="n">withr_2</span><span class="o">.</span><span class="mf">1.2</span>         
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">41</span><span class="p">]</span> <span class="n">MASS_7</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">50</span>          <span class="n">bitops_1</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mi">6</span>         <span class="n">grid_3</span><span class="o">.</span><span class="mf">4.4</span>           <span class="n">gtable_0</span><span class="o">.</span><span class="mf">2.0</span>         <span class="n">git2r_0</span><span class="o">.</span><span class="mf">23.0</span>        
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">46</span><span class="p">]</span> <span class="n">magrittr_1</span><span class="o">.</span><span class="mi">5</span>         <span class="n">scales_1</span><span class="o">.</span><span class="mf">0.0</span>         <span class="n">stringi_1</span><span class="o">.</span><span class="mf">2.4</span>        <span class="n">pbapply_1</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">4</span>        <span class="n">scatterplot3d_0</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">41</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">51</span><span class="p">]</span> <span class="n">bindrcpp_0</span><span class="o">.</span><span class="mf">2.2</span>       <span class="n">xml2_1</span><span class="o">.</span><span class="mf">2.0</span>           <span class="n">rjson_0</span><span class="o">.</span><span class="mf">2.20</span>         <span class="n">iterators_1</span><span class="o">.</span><span class="mf">0.10</span>     <span class="n">tools_3</span><span class="o">.</span><span class="mf">4.4</span>         
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">56</span><span class="p">]</span> <span class="n">glue_1</span><span class="o">.</span><span class="mf">3.0</span>           <span class="n">purrr_0</span><span class="o">.</span><span class="mf">2.5</span>          <span class="n">hms_0</span><span class="o">.</span><span class="mf">4.2</span>            <span class="n">jpeg_0</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="mi">8</span>           <span class="n">parallel_3</span><span class="o">.</span><span class="mf">4.4</span>      
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">61</span><span class="p">]</span> <span class="n">yaml_2</span><span class="o">.</span><span class="mf">2.0</span>           <span class="n">colorspace_1</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="mi">2</span>     <span class="n">soundgen_1</span><span class="o">.</span><span class="mf">3.1</span>       <span class="n">rvest_0</span><span class="o">.</span><span class="mf">3.2</span>          <span class="n">memoise_1</span><span class="o">.</span><span class="mf">1.0</span>       
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">66</span><span class="p">]</span> <span class="n">bindr_0</span><span class="o">.</span><span class="mf">1.1</span>         
</span></span></code></pre></div>

        
          <div class="blog-tags">
            
              <a href="marce10.github.io/coded_bioacustics//tags/annotations/">annotations</a>&nbsp;
            
              <a href="marce10.github.io/coded_bioacustics//tags/r/">R</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f&amp;text=Extended%20selection%20tables&amp;via=username" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f&amp;title=Extended%20selection%20tables" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f&amp;title=Extended%20selection%20tables" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f&amp;title=Extended%20selection%20tables" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2018-05-15-extended_selection_tables%2f&amp;description=Extended%20selection%20tables" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          
            
          

          
                  <h4 class="see-also">See also</h4>
                  <ul>
                
                
                    <li><a href="marce10.github.io/coded_bioacustics/post/2020-05-28-dynaspec_dynamic_spectrograms_in_r/">dynaSpec: dynamic spectrograms in R</a></li>
                
                    <li><a href="marce10.github.io/coded_bioacustics/post/2020-05-26-editing_wave_objects_from_extended_selection_tables/">Editing wave objects from extended selection tables</a></li>
                
                    <li><a href="marce10.github.io/coded_bioacustics/post/2020-06-15-automatic_signal_detection_a_case_study/">Automatic signal detection: a case study</a></li>
                
                    <li><a href="marce10.github.io/coded_bioacustics/post/2020-04-10-signal_detection_warbler_vs_monitor/">Signal detection with cross-correlation using warbleR</a></li>
                
                    <li><a href="marce10.github.io/coded_bioacustics/post/2019-01-12-selection_table_vs_template_xcorr/">Compare signals from selection tables to a set of templates using cross-correlation</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="marce10.github.io/coded_bioacustics/post/2018-02-22-simulating_animal_vocalizations/" data-toggle="tooltip" data-placement="top" title="Simulating animal vocalizations">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="marce10.github.io/coded_bioacustics/post/2019-01-12-phylo_spectro_function/" data-toggle="tooltip" data-placement="top" title="Spectrograms on trees">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "maRce_10" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:youremail@domain.com" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.facebook.com/username" title="Facebook">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://github.com/username" title="GitHub">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://gitlab.com/username" title="GitLab">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://bitbucket.org/username" title="Bitbucket">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://twitter.com/username" title="Twitter">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://username.slack.com/" title="Slack">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-slack fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://reddit.com/u/username" title="Reddit">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-reddit-alien fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://linkedin.com/in/username" title="LinkedIn">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.xing.com/profile/username" title="Xing">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-xing fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://stackoverflow.com/users/XXXXXXX/username" title="StackOverflow">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.snapchat.com/add/username" title="Snapchat">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-snapchat-ghost fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.instagram.com/username" title="Instagram">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.youtube.com/user/username" title="Youtube">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://soundcloud.com/username" title="SoundCloud">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-soundcloud fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://open.spotify.com/user/username" title="Spotify">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-spotify fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://username.bandcamp.com/" title="Bandcamp">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-bandcamp fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://itch.io/profile/username" title="Itch.io">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-gamepad fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://vk.com/username" title="VK">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-vk fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://paypal.me/username" title="PayPal">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-paypal fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://telegram.me/username" title="Telegram">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-telegram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://500px.com/username" title="500px">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-500px fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://codepen.io/username" title="CodePen">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-codepen fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.kaggle.com/username" title="kaggle">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-kaggle fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a rel="me"href="https://url" title="Mastodon">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://weibo.com/username" title="Weibo">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://medium.com/@username" title="Medium">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-medium fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://discord.gg/invite%20code%20%28https://discord.gg/XXXXXXX%29" title="Discord">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-discord fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.strava.com/athletes/userid" title="Strava">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-strava fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="yourwebsite.com">Some Person</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="marce10.github.io/coded_bioacustics/">Coded bioacoustics</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.121.2</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="marce10.github.io/coded_bioacustics/js/main.js"></script>
<script src="marce10.github.io/coded_bioacustics/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="marce10.github.io/coded_bioacustics/js/load-photoswipe.js"></script>









    
        
  </body>
</html>

