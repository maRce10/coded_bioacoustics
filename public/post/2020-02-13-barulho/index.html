<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>baRulho: an R package to quantify (animal) acoustic signal transmission and degradation - Coded bioacoustics</title>

  <meta name="description" content="The baRulho package is intended to facilitate acoustic analysis of (animal) sound transmission experiments. Such studies typically aim to quantify changes in signal structure when transmitted in a given habitat by broadcasting and re-recording animal sounds at increasing distances. We will refer to these changes in signal structure &lsquo;degradation&rsquo; for the sake of simplicity. The package offers a workflow with functions to prepare the data set for analysis as well as to calculate and visualize several degradation metrics."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Coded bioacoustics",
    
    "url": "marce10.github.io\/coded_bioacustics\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "marce10.github.io\/coded_bioacustics\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "marce10.github.io\/coded_bioacustics\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "marce10.github.io\/coded_bioacustics\/post\/2020-02-13-barulho\/",
          "name": "Ba rulho an r package to quantify (animal) acoustic signal transmission and degradation"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "baRulho: an R package to quantify (animal) acoustic signal transmission and degradation",
  "description" : "The baRulho package is intended to facilitate acoustic analysis of (animal) sound transmission experiments. Such studies typically aim to quantify changes in signal structure when transmitted in a given habitat by broadcasting and re-recording animal sounds at increasing distances. We will refer to these changes in signal structure \u0026lsquo;degradation\u0026rsquo; for the sake of simplicity. The package offers a workflow with functions to prepare the data set for analysis as well as to calculate and visualize several degradation metrics.",
  "inLanguage" : "en",
  "wordCount":  6754 ,
  "datePublished" : "0001-01-01T00:00:00",
  "dateModified" : "0001-01-01T00:00:00",
  "image" : "marce10.github.io\/coded_bioacustics\/img\/blog_sticker_v2.png",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "marce10.github.io\/coded_bioacustics\/post\/2020-02-13-barulho\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "marce10.github.io\/coded_bioacustics\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "marce10.github.io\/coded_bioacustics\/img\/blog_sticker_v2.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="baRulho: an R package to quantify (animal) acoustic signal transmission and degradation" />
<meta property="og:description" content="The baRulho package is intended to facilitate acoustic analysis of (animal) sound transmission experiments. Such studies typically aim to quantify changes in signal structure when transmitted in a given habitat by broadcasting and re-recording animal sounds at increasing distances. We will refer to these changes in signal structure &lsquo;degradation&rsquo; for the sake of simplicity. The package offers a workflow with functions to prepare the data set for analysis as well as to calculate and visualize several degradation metrics.">
<meta property="og:image" content="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" />
<meta property="og:url" content="marce10.github.io/coded_bioacustics/marce10.github.io/coded_bioacustics/post/2020-02-13-barulho/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Coded bioacoustics" />

  <meta name="twitter:title" content="baRulho: an R package to quantify (animal) acoustic signal …" />
  <meta name="twitter:description" content="The baRulho package is intended to facilitate acoustic analysis of (animal) sound transmission experiments. Such studies typically aim to quantify changes in signal structure when transmitted in a …">
  <meta name="twitter:image" content="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@Marcelo_Araya_Salas" />
  <meta name="twitter:creator" content="@Marcelo_Araya_Salas" />
  <link href='marce10.github.io/coded_bioacustics/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.121.2">
  <link rel="alternate" href="marce10.github.io/coded_bioacustics/index.xml" type="application/rss+xml" title="Coded bioacoustics"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/highlight.min.css" /><link rel="stylesheet" href="marce10.github.io/coded_bioacustics/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-RZVLSR0L9P"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-RZVLSR0L9P', { 'anonymize_ip': false });
}
</script>

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="marce10.github.io/coded_bioacustics/">Coded bioacoustics</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/marce10.github.io/coded_bioacustics/">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Samples</a>
              <div class="navlinks-children">
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2017-03-07-bigimg-sample">Big Image Sample</a>
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2017-03-05-math-sample">Math Sample</a>
                
                  <a href="/marce10.github.io/coded_bioacustics/post/2016-03-08-code-sample">Code Sample</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="About" href="/marce10.github.io/coded_bioacustics/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/marce10.github.io/coded_bioacustics/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Coded bioacoustics" href="marce10.github.io/coded_bioacustics/">
            <img class="avatar-img" src="marce10.github.io/coded_bioacustics/img/blog_sticker_v2.png" alt="Coded bioacoustics" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>baRulho: an R package to quantify (animal) acoustic signal transmission and degradation</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 1, 0001
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;32&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;6754&nbsp;words
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>The <a href="https://marce10.github.io/baRulho/">baRulho</a> package is intended to facilitate acoustic analysis of (animal) sound transmission experiments. Such studies typically aim to quantify changes in signal structure when transmitted in a given habitat by broadcasting and re-recording animal sounds at increasing distances. We will refer to these changes in signal structure &lsquo;degradation&rsquo; for the sake of simplicity. The package offers a workflow with functions to prepare the data set for analysis as well as to calculate and visualize several degradation metrics. <a href="https://marce10.github.io/baRulho/">baRulho</a> builds upon functions and data formats from the <a href="https://cran.r-project.org/package=warbleR">warbleR</a> and <a href="https://cran.r-project.org/package=seewave">seewave</a> packages, so some experience with these packages is advised.</p>
<p>The main features of the package are:</p>
<ul>
<li>The use of loops to apply tasks through acoustic signals referenced in a selection table (sensu <a href="https://cran.r-project.org/package=warbleR">warbleR</a>)</li>
<li>The production of image files with graphic representations of sound in time and/or frequency that let users verify acoustic analyses</li>
<li>The use extended selection tables (sensu <a href="https://cran.r-project.org/package=warbleR">warbleR</a>) as the object format to input acoustic data and annotations (except for <code>atmospheric_attenuation()</code>) and to output results</li>
<li>The use of parallelization to distribute tasks among several cores to improve computational efficiency</li>
</ul>
<p>To install the latest developmental version from <a href="http://github.com/">github</a> you will need the R package <a href="https://cran.r-project.org/package=devtools">devtools</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># From github</span>
</span></span><span class="line"><span class="cl"><span class="n">devtools</span><span class="o">::</span><span class="nf">install_github</span><span class="p">(</span><span class="s">&#34;maRce10/baRulho&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#load package</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">baRulho</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># also set a working directory, for this example we will use a temporary directory</span>
</span></span><span class="line"><span class="cl"><span class="n">td</span> <span class="o">&lt;-</span> <span class="nf">tempdir</span><span class="p">()</span>
</span></span></code></pre></div><p>For this vignette we will also need a few more packages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">warbleR</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">viridis</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="inputting-acoustic-data-and-annotations">Inputting acoustic data and annotations</h3>
<p>The package requires the data to be input as extended selection tables. An extended selection table is an object class in R that contains both the annotations (locations of signals in time and frequency) and the corresponding acoustic data as wave objects. Therefore, these are <strong>self-contained objects</strong> since the original sound files are no longer needed to perform acoustic analyses. These objects are created by the <code>selection_table()</code> function from <a href="https://cran.r-project.org/package=warbleR">warbleR</a>. Take a look at the <a href="https://cran.r-project.org/package=warbleR/vignettes/Intro_to_warbleR.html">intro to warbleR vignette</a> for more details.</p>
<div class="alert alert-info">
<p><font size="5"><b>Glossary</b></font></p>
<ul>
<li> <b>Model signal</b>: signal in which transmission properties will be studied, usually found in the original field recordings or synthetic sound files.</li>
<li> <b>Reference signal</b>: signal to use as a pattern to compare against. Usually created by re-recording a model signal broadcast at 1 m from the source (speaker).</li>
<li> <b>Signal type</b>: signal category. For instance song types (e.g. A, B, C), call types (alert, foraging, etc).</li>
<li> <b>Ambient noise</b>: energy from background sounds in the recording, excluding signals of interest.</li>  
<li> <b>Test signal</b>: signals re-recorded far from the source to test for transmission/degradation (also refer to as 're-recorded' signals).</li>
<li> <b>Degradation</b>: term use to describe any changes in the structure of a signal when transmitted in a given habitat (note that there is no agreement on this terminology in the scientific community).</li>
</ul>  
</div>
<p> </p>
<hr>
<h1 id="workflow-of-sound-processing-and-analysis">Workflow of sound processing and analysis</h1>
<p>A common sequence of steps to experimentally test hypotheses related to signal transmission is depicted in the following diagram:</p>
<img src="/./img/analysis_workflow.jpg" title="plot of chunk barulho5" alt="plot of chunk barulho5" width="600px" style="display: block; margin: auto;" />
 <!-- <center><img src="./img/analysis_workflow.jpg" alt="analysis workflow" width="620"></center> -->
<p> </p>
<p><a href="https://marce10.github.io/baRulho/">baRulho</a> offers functions for critical steps in this workflow (those in black, including &lsquo;checks&rsquo;) that required acoustic data manipulation and analysis. Additional functions from <a href="https://cran.r-project.org/package=warbleR">warbleR</a> can be used (and are used in this vignette) to complement functions in <a href="https://marce10.github.io/baRulho/">baRulho</a>. All these tools will be presented following the above workflow.</p>
<p> </p>
<h1 id="synthesize-sounds">Synthesize sounds</h1>
<p>We often want to figure out how transmission properties vary across a range of frequencies.
For instance, Tobias et al (2010) studied whether acoustic adaptation (a special case of sensory drive; Morton 1975), could explain song evolution in Amazonian avian communities.  To test this the authors created synthetic pure tone sounds that were used as playback and re-recorded in different habitats. This is the actual procedure of creating synthetic sounds as they described it:</p>
<blockquote>
<p>&ldquo;Tones were synthesized at six different frequencies (0.5, 1.0, 2.0, 3.0, 4.0, and 5.0 kHz) to encompass the range of maximum avian auditory sensitivity (Dooling 1982). At each frequency, we generated two sequences of two 100-msec tones. One sequence had  a  relatively  short  interval  of  150  msec,  close  to  the  mean internote interval in our sample (152± 4 msec). The other sequence had a longer interval of 250 msec, close to the mean maximum internote interval in our sample (283± 74 msec). The first sequence reflects a fast-paced song and the second a slower paced song  (sensu  Slabbekoorn  et  al.  2007).  The  master  file  (44100 Hz/16 bit WAV) thereby consisted of a series of 12 pairs of artificial 100-ms constant-frequency tones at six different frequencies (0.5, 1.0, 2.0, 3.0, 4.0, and 5.0 kHz).&rdquo;</p>
</blockquote>
<p>We can synthesize the same pure tones using the function <code>sim_songs()</code> from the package <a href="https://cran.r-project.org/package=warbleR">warbleR</a>. The function requires 1) the number of tones to synthesize (argument <code>n</code>, 2) the duration of the tones (<code>durs</code>, in seconds, 3) the duration of the intervals (<code>gaps</code>, in seconds and 3) the frequencies for each tone to be synthesized (<code>freqs</code>, in kHz). In addition, the argument <code>diff.fun</code> should be set to &ldquo;pure.tone&rdquo; and the argument <code>harm</code> to 1 to remove harmonics. In our case we need six tones of 100 ms at 0.5, 1, 2, 3, 4, and 5 kHz separated by intervals of 150 ms (at least for the first synthetic file described in Tobias et al 2010). We can also get a selection table (sensu <a href="https://cran.r-project.org/package=warbleR">warbleR</a>) with the information about the time and frequency location of every sound. This would be required in order to make the master sound file. To get the selection table we need to set the argument <code>selec.table = TRUE</code>. This can be done as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># synthesize</span>
</span></span><span class="line"><span class="cl"><span class="n">synth.l</span> <span class="o">&lt;-</span> <span class="nf">sim_songs</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="m">6</span><span class="p">,</span> <span class="n">durs</span> <span class="o">=</span> <span class="m">0.1</span><span class="p">,</span> <span class="n">freqs</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.5</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">),</span> <span class="n">harms</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">gaps</span> <span class="o">=</span> <span class="m">0.15</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                     <span class="n">diff.fun</span> <span class="o">=</span> <span class="s">&#34;pure.tone&#34;</span><span class="p">,</span> <span class="n">selec.table</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># plot spectro</span>
</span></span><span class="line"><span class="cl"><span class="nf">spectro</span><span class="p">(</span><span class="n">synth.l</span><span class="o">$</span><span class="n">wave</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">palette</span> <span class="o">=</span> <span class="n">reverse.topo.colors</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">grid</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">flim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">6</span><span class="p">),</span> <span class="n">collevels</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">-20</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
</span></span></code></pre></div><img src="/./img/spectro_synth_song.png" title="plot of chunk barulho7" alt="plot of chunk barulho7" width="600px" style="display: block; margin: auto;" />
 <!-- <img src="./img/spectro_synth_song.png" alt="spectrogram syntehtic sounds" width="550"> -->
<p> </p>
<p>The function returns a list in which the first element is the selection table and the second one the wave object:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">synth.l</span><span class="p">)</span> 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;list&#34;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">names</span><span class="p">(</span><span class="n">synth.l</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;selec.table&#34; &#34;wave&#34;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">synth.l</span><span class="o">$</span><span class="n">selec.table</span>  
</span></span></code></pre></div><table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;"> sound.files </th>
   <th style="text-align:center;"> selec </th>
   <th style="text-align:center;"> start </th>
   <th style="text-align:center;"> end </th>
   <th style="text-align:center;"> bottom.freq </th>
   <th style="text-align:center;"> top.freq </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.15 </td>
   <td style="text-align:center;"> 0.25 </td>
   <td style="text-align:center;"> 0.5 </td>
   <td style="text-align:center;"> 0.5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.40 </td>
   <td style="text-align:center;"> 0.50 </td>
   <td style="text-align:center;"> 1.0 </td>
   <td style="text-align:center;"> 1.0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.65 </td>
   <td style="text-align:center;"> 0.75 </td>
   <td style="text-align:center;"> 2.0 </td>
   <td style="text-align:center;"> 2.0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 0.90 </td>
   <td style="text-align:center;"> 1.00 </td>
   <td style="text-align:center;"> 3.0 </td>
   <td style="text-align:center;"> 3.0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.15 </td>
   <td style="text-align:center;"> 1.25 </td>
   <td style="text-align:center;"> 4.0 </td>
   <td style="text-align:center;"> 4.0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2020-01-09_17:00:50.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.40 </td>
   <td style="text-align:center;"> 1.50 </td>
   <td style="text-align:center;"> 5.0 </td>
   <td style="text-align:center;"> 5.0 </td>
  </tr>
</tbody>
</table>
<p> </p>
<p>The function also saves the associated &lsquo;.wav&rsquo; file in the working directory (in this example <code>tempdir()</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">list.files</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s">&#34;\\.wav$&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;2020-01-09_17:00:50.wav&#34;
</span></span></code></pre></div><p> </p>
<h1 id="create-master-sound-file-for-playback">Create master sound file for playback</h1>
<p>The function <code>master_sound_file()</code> creates a master sound file (as you probably guessed) for playback experiments. The function takes wave objects from an extended selection table containing the model signals and concatenates them in a single sound file (with some silence in between signals which length can be modified). <code>master_sound_file()</code> adds acoustic markers at the start and end of the playback that can be used to time-sync re-recorded signals, which streamlines quantification of acoustic degradation.
The following example shows how to create a master sound file using the synthetic sounds generated above. For the synthetic sounds we need to add a little space between the top and bottom frequency because <code>sim_songs()</code> make those values exactly the same for pure tones:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># extract selection table</span>
</span></span><span class="line"><span class="cl"><span class="n">st</span> <span class="o">&lt;-</span> <span class="n">synth.l</span><span class="o">$</span><span class="n">selec.table</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># add freq range (0.5 kHz)</span>
</span></span><span class="line"><span class="cl"><span class="n">st</span><span class="o">$</span><span class="n">bottom.freq</span> <span class="o">&lt;-</span> <span class="n">st</span><span class="o">$</span><span class="n">bottom.freq</span> <span class="o">-</span> <span class="m">0.25</span>
</span></span><span class="line"><span class="cl"><span class="n">st</span><span class="o">$</span><span class="n">top.freq</span> <span class="o">&lt;-</span> <span class="n">st</span><span class="o">$</span><span class="n">top.freq</span> <span class="o">+</span> <span class="m">0.25</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># make an extended selection table</span>
</span></span><span class="line"><span class="cl"><span class="n">synth.est</span> <span class="o">&lt;-</span> <span class="nf">selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">st</span><span class="p">,</span> <span class="n">extended</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                             <span class="n">confirm.extended</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create master sound file</span>
</span></span><span class="line"><span class="cl"><span class="n">synth.master.sf</span> <span class="o">&lt;-</span> <span class="nf">master_sound_file</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">synth.est</span><span class="p">,</span> <span class="n">file.name</span> <span class="o">=</span> <span class="s">&#34;synthetic_master&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="n">dest.path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">gap.duration</span> <span class="o">=</span> <span class="m">0.15</span><span class="p">)</span>
</span></span></code></pre></div><p> </p>
<p>The function saves the master sound file as a wave file and returns a selection table in the R environment with the time and frequency &lsquo;coordinates&rsquo; of the signals in that file. We can look at the spectrogram of the output file using the <a href="https://cran.r-project.org/package=warbleR">warbleR</a> function <code>spectrograms()</code> as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># plot spectro (saved in working directory)</span>
</span></span><span class="line"><span class="cl"><span class="nf">spectrograms</span><span class="p">(</span><span class="n">synth.master.sf</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">by.song</span> <span class="o">=</span> <span class="s">&#34;sound.files&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">           <span class="n">xl</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">collevels</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">-60</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> <span class="n">osci</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><img src="/./img/synthetic_master.wav.jpeg" title="plot of chunk barulho19" alt="plot of chunk barulho19" width="800px" style="display: block; margin: auto;" />
 <!-- <img src="./img/synthetic_master.wav.jpeg" alt="spectrogram of master file"> -->
<p>The function can also create a master sound file from sounds from different sounds files, as is likely the case with recordings collected in the field. The following example shows how to create a master sound file using several sound files. The code uses the example data and recordings from the package <a href="https://cran.r-project.org/package=warbleR">warbleR</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># load example data from warbleR</span>
</span></span><span class="line"><span class="cl"><span class="nf">data</span><span class="p">(</span><span class="n">list</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;Phae.long1&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long2&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long3&#34;</span><span class="p">,</span> <span class="s">&#34;Phae.long4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="s">&#34;lbh_selec_table&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># save sound files to temporary folder</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long1</span><span class="p">,</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;Phae.long1.wav&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long2</span><span class="p">,</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;Phae.long2.wav&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long3</span><span class="p">,</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;Phae.long3.wav&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">Phae.long4</span><span class="p">,</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;Phae.long4.wav&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># make an extended selection table</span>
</span></span><span class="line"><span class="cl"><span class="n">est</span> <span class="o">&lt;-</span> <span class="nf">selection_table</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">lbh_selec_table</span><span class="p">,</span> <span class="n">extended</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">confirm.extended</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create master sound file</span>
</span></span><span class="line"><span class="cl"><span class="n">master.sf</span> <span class="o">&lt;-</span> <span class="nf">master_sound_file</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">est</span><span class="p">,</span> <span class="n">file.name</span> <span class="o">=</span> <span class="s">&#34;example_master&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl"><span class="n">dest.path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">gap.duration</span> <span class="o">=</span> <span class="m">0.3</span><span class="p">)</span>
</span></span></code></pre></div><p> </p>
<p>Again, we can look at the spectrogram of the output file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">spectrograms</span><span class="p">(</span><span class="n">master.sf</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">by.song</span> <span class="o">=</span> <span class="s">&#34;sound.files&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">           <span class="n">xl</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">collevels</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">-60</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> <span class="n">osci</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><img src="/./img/example_master.wav.jpeg" title="plot of chunk barulho22" alt="plot of chunk barulho22" width="800px" style="display: block; margin: auto;" />
 <!-- <img src="./img/example_master.wav.jpeg" alt="spectrogram of master file"> -->
<p>Note that the output could also be exported to <a href="http://ravensoundsoftware.com/software/raven-pro">Raven sound analysis software</a> (<a href="http://www.birds.cornell.edu">Cornell Lab of Ornithology</a>) for visualization or further manipulation using the function <code>exp_raven()</code> from the <a href="https://cran.r-project.org/package=Rraven">Rraven</a> package. <code>exp_raven()</code> exports selections in the R environment to a &lsquo;.txt&rsquo; file that can be read in Raven:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">Rraven</span><span class="o">::</span><span class="nf">exp_raven</span><span class="p">(</span><span class="n">master.sf</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">file.name</span> <span class="o">=</span> <span class="s">&#34;example_master_selection_table&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p> </p>
<p>Both sound files and annotations can be visualized in Raven:</p>
<img src="/./img/example_master_table.jpg" title="plot of chunk barulho24" alt="plot of chunk barulho24" width="800px" style="display: block; margin: auto;" />
 <!-- <img src="./img/example_master_table.jpg" alt="Raven view"> -->
<p> </p>
<p>Take a look at the <a href="https://CRAN.R-project.org/package=Rraven/vignettes/Rraven.html">Rraven vignette</a> for more details.</p>
<p>The relative amplitude of markers can be adjusted with the <code>amp.marker</code> argument. Amplitude of markers will be multiplied by the value supplied so markers will be louder than signals, which increases the chances of being &ldquo;detected&rdquo; at further distances regardless of the amplitude of signals.</p>
<h1 id="time-sync-re-recorded-sounds">Time sync re-recorded sounds</h1>
<p>Once we went to the field (or lab) and re-recorded the master sound files at different distances, we are ready to start with data analysis. The first step for getting the data ready for analysis involves finding signals within the re-recorded sound files. We only need to align the start marker between the master playback and the re-recorded sound files, based on the fact that the time difference between the marker and the signals should be the same in both cases:</p>
<img src="/./img/align-crop-optimize.gif" title="plot of chunk barulho25" alt="plot of chunk barulho25" width="600px" style="display: block; margin: auto;" />
 <!-- <center><img src="./img/align-crop-optimize.gif" alt="Align recordings diagram"  width="550"></center> -->
<p> </p>
<p>To simulate re-recorded sound files we will make two copies of the master sound file, add some silence at the beggining (1 and 2 seconds) and add noise:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># read master</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.master</span> <span class="o">&lt;-</span> <span class="nf">readWave</span><span class="p">(</span><span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;example_master.wav&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># add 1 s silence and create first copy</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test1</span> <span class="o">&lt;-</span> <span class="nf">addsilw</span><span class="p">(</span><span class="n">wave</span> <span class="o">=</span> <span class="n">exmp.master</span><span class="p">,</span> <span class="n">at</span> <span class="o">=</span> <span class="s">&#34;start&#34;</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;Wave&#34;</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">exmp.master</span><span class="o">@</span><span class="n">samp.rate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># add 2 s silence and create second copy</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test2</span> <span class="o">&lt;-</span> <span class="nf">addsilw</span><span class="p">(</span><span class="n">wave</span> <span class="o">=</span> <span class="n">exmp.master</span><span class="p">,</span> <span class="n">at</span> <span class="o">=</span> <span class="s">&#34;start&#34;</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;Wave&#34;</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">exmp.master</span><span class="o">@</span><span class="n">samp.rate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># make noise</span>
</span></span><span class="line"><span class="cl"><span class="n">ns</span> <span class="o">&lt;-</span> <span class="nf">noisew</span><span class="p">(</span><span class="n">f</span> <span class="o">=</span> <span class="n">exmp.master</span><span class="o">@</span><span class="n">samp.rate</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="nf">duration</span><span class="p">(</span><span class="n">exmp.test2</span><span class="p">)</span> <span class="o">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;Wave&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># make noise exactly the same length and add noise to 2 examples</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test1</span><span class="o">@</span><span class="n">left</span> <span class="o">&lt;-</span> <span class="n">exmp.test1</span><span class="o">@</span><span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">ns</span><span class="o">@</span><span class="n">left[1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">exmp.test1</span><span class="o">@</span><span class="n">left</span><span class="p">)</span><span class="n">]</span> <span class="o">*</span> <span class="m">150</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test2</span><span class="o">@</span><span class="n">left</span> <span class="o">&lt;-</span> <span class="n">exmp.test2</span><span class="o">@</span><span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">ns</span><span class="o">@</span><span class="n">left[1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">exmp.test2</span><span class="o">@</span><span class="n">left</span><span class="p">)</span><span class="n">]</span> <span class="o">*</span> <span class="m">150</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># normalize both  before saving</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test1</span> <span class="o">&lt;-</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">exmp.test1</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="s">&#34;16&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">exmp.test2</span> <span class="o">&lt;-</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">exmp.test2</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="s">&#34;16&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># save simulated re-recorded sound files</span>
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">object</span> <span class="o">=</span> <span class="n">exmp.test1</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;example_test1.wav&#34;</span><span class="p">),</span> <span class="n">extensible</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">writeWave</span><span class="p">(</span><span class="n">object</span> <span class="o">=</span> <span class="n">exmp.test2</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="nf">file.path</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="s">&#34;example_test2.wav&#34;</span><span class="p">),</span> <span class="n">extensible</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span></code></pre></div><p>To find the location of the start marker on these (simulated) re-recorded sound files we use the functions <code>search_templates()</code> to run a cross-correlation of one or  more markers across the test (re-recorded) files to determine the exact time in which each marker is found:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">found.starts</span> <span class="o">&lt;-</span> <span class="nf">search_templates</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">master.sf</span><span class="p">,</span> <span class="n">template.rows</span> <span class="o">=</span> <span class="nf">which</span><span class="p">(</span><span class="n">master.sf</span><span class="o">$</span><span class="n">orig.sound.file</span> <span class="o">==</span> <span class="s">&#34;start_marker&#34;</span><span class="p">),</span> <span class="n">test.files</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;example_test1.wav&#34;</span><span class="p">,</span> <span class="s">&#34;example_test2.wav&#34;</span><span class="p">),</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">);</span> <span class="n">pks</span>
</span></span></code></pre></div><p> </p>
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;"> test.files </th>
   <th style="text-align:center;"> selec </th>
   <th style="text-align:center;"> start </th>
   <th style="text-align:center;"> end </th>
   <th style="text-align:center;"> template </th>
   <th style="text-align:center;"> time </th>
   <th style="text-align:center;"> score </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> example_test1.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 2.00062 </td>
   <td style="text-align:center;"> 2.99928 </td>
   <td style="text-align:center;"> example_master.wav-1 </td>
   <td style="text-align:center;"> 2.49995 </td>
   <td style="text-align:center;"> 0.882420 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 3.00084 </td>
   <td style="text-align:center;"> 3.99950 </td>
   <td style="text-align:center;"> example_master.wav-1 </td>
   <td style="text-align:center;"> 3.50017 </td>
   <td style="text-align:center;"> 0.879969 </td>
  </tr>
</tbody>
</table>
<p>We could also use the end marker as template in case the start marker was masked by other sounds.</p>
<p>The output of <code>search_templates()</code> indicates that the start markers are found starting at ~2 s and ~3 s (2.00062 s and 3.00084 s), which was expected as <code>master_sound_file()</code> inserts a 1 second silence at the beginning of the master sound files and we added 1 s and 2 s to each simulated file respectively. With this information we can infer the position of all other selections in the new recordings. A selection table from re-recorded files can be generated using the function <code>align_test_files()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">alg.tests</span> <span class="o">&lt;-</span> <span class="nf">align_test_files</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span>  <span class="n">master.sf</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">found.starts</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">by.song</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p> </p>
<p>By default the function returns an <code>extended_selection_table</code>  created &lsquo;by.song&rsquo; (see &lsquo;?selection_table()&rsquo;), which is the data format that pretty much all <a href="https://marce10.github.io/baRulho/">baRulho</a> functions take.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">alg.est</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">alg.est</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:800px; "><table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> template </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.10000 </td>
   <td style="text-align:center;"> 1.09867 </td>
   <td style="text-align:center;"> 1.33333 </td>
   <td style="text-align:center;"> 2.66667 </td>
   <td style="text-align:center;"> start_marker </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 1.39867 </td>
   <td style="text-align:center;"> 1.57173 </td>
   <td style="text-align:center;"> 2.22011 </td>
   <td style="text-align:center;"> 8.60438 </td>
   <td style="text-align:center;"> Phae.long1.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 1.87173 </td>
   <td style="text-align:center;"> 2.03484 </td>
   <td style="text-align:center;"> 2.16944 </td>
   <td style="text-align:center;"> 8.80705 </td>
   <td style="text-align:center;"> Phae.long1.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 2.33484 </td>
   <td style="text-align:center;"> 2.50982 </td>
   <td style="text-align:center;"> 2.21829 </td>
   <td style="text-align:center;"> 8.75660 </td>
   <td style="text-align:center;"> Phae.long1.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 2.80982 </td>
   <td style="text-align:center;"> 2.94244 </td>
   <td style="text-align:center;"> 2.31686 </td>
   <td style="text-align:center;"> 8.82232 </td>
   <td style="text-align:center;"> Phae.long2.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 3.24244 </td>
   <td style="text-align:center;"> 3.36862 </td>
   <td style="text-align:center;"> 2.28401 </td>
   <td style="text-align:center;"> 8.88803 </td>
   <td style="text-align:center;"> Phae.long2.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 3.66862 </td>
   <td style="text-align:center;"> 3.79987 </td>
   <td style="text-align:center;"> 3.00683 </td>
   <td style="text-align:center;"> 8.82232 </td>
   <td style="text-align:center;"> Phae.long3.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 4.09987 </td>
   <td style="text-align:center;"> 4.23009 </td>
   <td style="text-align:center;"> 2.77684 </td>
   <td style="text-align:center;"> 8.88803 </td>
   <td style="text-align:center;"> Phae.long3.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 4.53009 </td>
   <td style="text-align:center;"> 4.66133 </td>
   <td style="text-align:center;"> 2.31686 </td>
   <td style="text-align:center;"> 9.31515 </td>
   <td style="text-align:center;"> Phae.long3.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 4.96133 </td>
   <td style="text-align:center;"> 5.10680 </td>
   <td style="text-align:center;"> 2.51400 </td>
   <td style="text-align:center;"> 9.21659 </td>
   <td style="text-align:center;"> Phae.long4.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 11 </td>
   <td style="text-align:center;"> 5.40680 </td>
   <td style="text-align:center;"> 5.55102 </td>
   <td style="text-align:center;"> 2.57971 </td>
   <td style="text-align:center;"> 10.23512 </td>
   <td style="text-align:center;"> Phae.long4.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 12 </td>
   <td style="text-align:center;"> 5.85102 </td>
   <td style="text-align:center;"> 5.99618 </td>
   <td style="text-align:center;"> 2.57971 </td>
   <td style="text-align:center;"> 9.74228 </td>
   <td style="text-align:center;"> Phae.long4.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test1.wav-song_example_test1.wav </td>
   <td style="text-align:center;"> 13 </td>
   <td style="text-align:center;"> 6.29618 </td>
   <td style="text-align:center;"> 7.29484 </td>
   <td style="text-align:center;"> 1.33333 </td>
   <td style="text-align:center;"> 2.66667 </td>
   <td style="text-align:center;"> end_marker </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.10000 </td>
   <td style="text-align:center;"> 1.09867 </td>
   <td style="text-align:center;"> 1.33333 </td>
   <td style="text-align:center;"> 2.66667 </td>
   <td style="text-align:center;"> start_marker </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 1.39867 </td>
   <td style="text-align:center;"> 1.57173 </td>
   <td style="text-align:center;"> 2.22011 </td>
   <td style="text-align:center;"> 8.60438 </td>
   <td style="text-align:center;"> Phae.long1.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 1.87173 </td>
   <td style="text-align:center;"> 2.03484 </td>
   <td style="text-align:center;"> 2.16944 </td>
   <td style="text-align:center;"> 8.80705 </td>
   <td style="text-align:center;"> Phae.long1.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 2.33484 </td>
   <td style="text-align:center;"> 2.50982 </td>
   <td style="text-align:center;"> 2.21829 </td>
   <td style="text-align:center;"> 8.75660 </td>
   <td style="text-align:center;"> Phae.long1.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 2.80982 </td>
   <td style="text-align:center;"> 2.94244 </td>
   <td style="text-align:center;"> 2.31686 </td>
   <td style="text-align:center;"> 8.82232 </td>
   <td style="text-align:center;"> Phae.long2.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 3.24244 </td>
   <td style="text-align:center;"> 3.36862 </td>
   <td style="text-align:center;"> 2.28401 </td>
   <td style="text-align:center;"> 8.88803 </td>
   <td style="text-align:center;"> Phae.long2.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 3.66862 </td>
   <td style="text-align:center;"> 3.79987 </td>
   <td style="text-align:center;"> 3.00683 </td>
   <td style="text-align:center;"> 8.82232 </td>
   <td style="text-align:center;"> Phae.long3.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 4.09987 </td>
   <td style="text-align:center;"> 4.23009 </td>
   <td style="text-align:center;"> 2.77684 </td>
   <td style="text-align:center;"> 8.88803 </td>
   <td style="text-align:center;"> Phae.long3.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 4.53009 </td>
   <td style="text-align:center;"> 4.66133 </td>
   <td style="text-align:center;"> 2.31686 </td>
   <td style="text-align:center;"> 9.31515 </td>
   <td style="text-align:center;"> Phae.long3.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 4.96133 </td>
   <td style="text-align:center;"> 5.10680 </td>
   <td style="text-align:center;"> 2.51400 </td>
   <td style="text-align:center;"> 9.21659 </td>
   <td style="text-align:center;"> Phae.long4.wav_1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 11 </td>
   <td style="text-align:center;"> 5.40680 </td>
   <td style="text-align:center;"> 5.55102 </td>
   <td style="text-align:center;"> 2.57971 </td>
   <td style="text-align:center;"> 10.23512 </td>
   <td style="text-align:center;"> Phae.long4.wav_2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 12 </td>
   <td style="text-align:center;"> 5.85102 </td>
   <td style="text-align:center;"> 5.99618 </td>
   <td style="text-align:center;"> 2.57971 </td>
   <td style="text-align:center;"> 9.74228 </td>
   <td style="text-align:center;"> Phae.long4.wav_3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> example_test2.wav-song_example_test2.wav </td>
   <td style="text-align:center;"> 13 </td>
   <td style="text-align:center;"> 6.29618 </td>
   <td style="text-align:center;"> 7.29484 </td>
   <td style="text-align:center;"> 1.33333 </td>
   <td style="text-align:center;"> 2.66667 </td>
   <td style="text-align:center;"> end_marker </td>
  </tr>
</tbody>
</table></div>
&nbsp;
<p>We can check the precision of the alignment by looking at the spectrograms:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">spectrograms</span><span class="p">(</span><span class="n">alg.est</span><span class="p">,</span> <span class="n">by.song</span> <span class="o">=</span> <span class="s">&#34;sound.files&#34;</span><span class="p">,</span> <span class="n">xl</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">collevels</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">-60</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">5</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">             <span class="n">dest.path</span> <span class="o">=</span> <span class="n">td</span><span class="p">,</span> <span class="n">osci</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><img src="/./img/example_test1.wav.jpeg" title="plot of chunk barulho33" alt="plot of chunk barulho33" width="800px" style="display: block; margin: auto;" />
<p> </p>
<img src="/./img/example_test2.wav.jpeg" title="plot of chunk barulho34" alt="plot of chunk barulho34" width="800px" style="display: block; margin: auto;" />
<p> </p>
<p>Below are some examples from actual test signals that were re-recorded in the field at 1, 30, 65, and 100 m respectively, and were later aligned using the start marker:</p>
<img src="/./img/tlalpan_playback.jpeg" title="plot of chunk barulho35" alt="plot of chunk barulho35" width="800px" style="display: block; margin: auto;" />
<p> </p>
<hr>
<h3 id="further-aligning">Further aligning</h3>
<p>When this process is done manually (or when broadcasting devices add some short delays as the case of some bluetooth transmitters) there could be some small misalignment between the inferred versus the actual start time of re-recorded signals. This is problematic for quantifying degradation in <a href="https://marce10.github.io/baRulho/">baRulho</a> (and other sound analysis software) as precise alignment of signal is crucial for the accuracy of downstream measures of signal degradation.</p>
<p>Misalignment can be fixed with the function <code>spcc_align()</code>. This function uses spectrogram cross-correlation to sync the position in time of signals with regard to a reference signal. <code>spcc_align()</code> takes the signal recorded at the closest distance to the source as the reference signal. The function calls <a href="https://cran.r-project.org/package=warbleR">warbleR</a>&rsquo;s <code>xcorr()</code> and <code>find_peaks()</code> (just as we did above) internally to align signals using cross-correlation.</p>
<p><a href="https://marce10.github.io/baRulho/">baRulho</a> comes with an example data set called  <code>playback_est_unaligned</code>, which contains signals in which the time position of signals is slightly unaligned. We can use this data to show how the function <code>spcc_align()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"> <span class="nf">data</span><span class="p">(</span><span class="s">&#34;playback_est_unaligned&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> <span class="c1"># method 1</span>
</span></span><span class="line"><span class="cl"><span class="n">playback_est_aligned</span> <span class="o">&lt;-</span> <span class="nf">spcc_align</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">playback_est_unaligned</span><span class="p">)</span>
</span></span></code></pre></div><p>The output extended selection table contains the new start and end values after alignment.</p>
<p>This is how the signals look before and after being aligned:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># rename sound files so aligned and unaligned signals are intercalated</span>
</span></span><span class="line"><span class="cl"><span class="n">unalg</span> <span class="o">&lt;-</span> <span class="nf">rename_waves_est</span><span class="p">(</span><span class="n">playback_est_unaligned</span><span class="p">,</span> <span class="n">playback_est_unaligned</span><span class="o">$</span><span class="n">sound.files</span><span class="p">,</span> <span class="n">new.selec</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span><span class="n">[1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">playback_est_unaligned</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">alg</span> <span class="o">&lt;-</span> <span class="nf">rename_waves_est</span><span class="p">(</span><span class="n">playback_est_aligned</span><span class="p">,</span> <span class="n">playback_est_aligned</span><span class="o">$</span><span class="n">sound.files</span><span class="p">,</span> <span class="n">new.selec</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span><span class="n">[1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">playback_est_aligned</span><span class="p">)</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># add label </span>
</span></span><span class="line"><span class="cl"><span class="n">unalg</span><span class="o">$</span><span class="n">type</span> <span class="o">&lt;-</span> <span class="s">&#34;Before aligning&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">alg</span><span class="o">$</span><span class="n">type</span> <span class="o">&lt;-</span> <span class="s">&#34;After aligning&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># put together in a single ext sel tab</span>
</span></span><span class="line"><span class="cl"><span class="n">unalg.alg</span> <span class="o">&lt;-</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">unalg</span><span class="p">,</span> <span class="n">alg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create spectrograms</span>
</span></span><span class="line"><span class="cl"><span class="nf">spectrograms</span><span class="p">(</span><span class="n">unalg.alg[unalg.alg</span><span class="o">$</span><span class="n">signal.type</span> <span class="o">!=</span> <span class="s">&#34;ambient&#34;</span><span class="p">,</span> <span class="n">]</span><span class="p">,</span> <span class="n">dest.path</span> <span class="o">=</span> <span class="nf">tempdir</span><span class="p">(),</span> <span class="n">res</span> <span class="o">=</span> <span class="m">100</span><span class="p">,</span> <span class="n">wl</span> <span class="o">=</span> <span class="m">300</span><span class="p">,</span> <span class="n">title.labels</span> <span class="o">=</span> <span class="s">&#34;type&#34;</span><span class="p">,</span> <span class="n">sel.labels</span> <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span></span></code></pre></div><img src="/./img/spcc_align_results.gif" title="plot of chunk barulho38" alt="plot of chunk barulho38" width="600px" style="display: block; margin: auto;" />
<!-- <center><img src="./img/spcc_align_results.gif" alt="time sync with spcc_align"></center> -->
<p> </p>
<p>In case this doesn&rsquo;t work as expected there is a plan B. The function <code>seltailor()</code> from <a href="https://cran.r-project.org/package=warbleR">warbleR</a> allows user to manually adjust the start and end of signals in a extended selection table.</p>
<p> </p>
<h1 id="quantifying-signal-degradation">Quantifying signal degradation</h1>
<p>Most <a href="https://marce10.github.io/baRulho/">baRulho</a> functions are design to quantify acoustic signal degradation. There are a few important things to keep in mind about functions for quantifying degradation:</p>
<ul>
<li>The package currently assumes that all recordings have been made with the same equipment and recording volume. This will be modified in future versions to allow for amplitude calibration of recordings.</li>
<li>Wave envelope and frequency spectrum calculations are made after applying a bandpass filter within the frequency range of the reference signal (&lsquo;bottom.freq&rsquo; and &rsquo;top.freq&rsquo; columns)</li>
<li>The package offers two methods to compare signals to the reference:
<ol>
<li>Compare all signals with the counterpart that was recorded at the closest distance to source (e.g. compare a signal recorded at 5m, 10m and 15m with its counterpart recorded at 1m). This is the default method.</li>
<li>Compare all signals with the counterpart recorded at the distance immediately before (e.g. a signal recorded at 10m compared with the one recorded at 5m, then signal recorded at 15m compared with the one recorded at 10m and so on).</li>
</ol>
</li>
</ul>
<h2 id="required-data-structure">Required data structure</h2>
<p>As mentioned above the data must be in <code>extended_selection_table</code> format. The data should also contain some additional information. <a href="https://marce10.github.io/baRulho/">baRulho</a> comes with an example <code>extended_selection_table</code> data set that can be used to understand the required data structure:
s</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">data</span><span class="p">(</span><span class="s">&#34;playback_est&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">playback_est</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 12px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-F1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-F1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-F1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-F1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-I2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-I2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-I2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCE-I2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCL-K2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCL-K2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCL-K2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> CCL-K2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> ambient </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-A4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-A4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-A4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-A4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-K1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-K1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-K1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 10 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> SUR-K1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 15 </td>
  </tr>
</tbody>
</table></div>
&nbsp;
<p>Note that besides the basic acoustic annotation information (e.g. sound file, time, frequency) the table also contains a <strong>&lsquo;signal.type&rsquo; column, which refers to the signal type from which each signal belongs to</strong>, and a <strong>&lsquo;distance&rsquo; column that refers to the distance from the source at which each signal was recorded</strong>. Signal type and distance are required for the comparison of signals. Also note that some selections are labeled as &ldquo;ambient&rdquo; in the &lsquo;signal.type&rsquo;. These selections refer to ambient (background) noise. Ambient noise can be used by some functions to correct for amplitude differences due to non-target sounds.</p>
<p>In this example data there are 4 recordings at increasing distances: 1m, 5m, 10m and 15m:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># count selection per recordings</span>
</span></span><span class="line"><span class="cl"><span class="nf">unique</span><span class="p">(</span><span class="n">playback_est</span><span class="o">$</span><span class="n">sound.files</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] &#34;01m_re-rec.wav&#34; &#34;05m_re-rec.wav&#34;
</span></span><span class="line"><span class="cl">## [3] &#34;10m_re-rec.wav&#34; &#34;15m_re-rec.wav&#34;
</span></span></code></pre></div><p>The data contains selections for 5 signal types as well as 2 ambient noise selections at each distance/recording:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">table</span><span class="p">(</span><span class="n">playback_est</span><span class="o">$</span><span class="n">signal.type</span><span class="p">,</span> <span class="n">playback_est</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span>
</span></span></code></pre></div><table class="table table-striped" style="font-size: 12px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> 1 </th>
   <th style="text-align:center;"> 5 </th>
   <th style="text-align:center;"> 10 </th>
   <th style="text-align:center;"> 15 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> ambient </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
</tbody>
</table>
<h2 id="degradation-measurements">Degradation measurements</h2>
<h3 id="blur-ratio">Blur ratio</h3>
<p>Blur ratio quantifies the degradation of sound as a function of the change in signal energy in the time domain as described by Dabelsteen et al (1993). Blur ratio is measured as the mismatch between amplitude envelopes (expressed as probability density functions) of the reference signal and the re-recorded signal. Low values indicate low degradation of signals.  The function <code>blur_ratio()</code> measures the blur ratio of signals in which a reference playback has been re-recorded at different distances. The function compares each signal type to the corresponding reference signal within the supplied frequency range (e.g. bandpass) of the reference signal (‘bottom.freq’ and ‘top.freq’ columns in ‘X’). The ‘signal.type’ column must be used to tell the function to only compare signals belonging to the same category (e.g. song-types). All wave objects in the extended selection table must have the same sampling rate so the length of envelopes is comparable.
Blur ratio can be calculated as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run blur ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">br</span> <span class="o">&lt;-</span> <span class="nf">blur_ratio</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">br</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># see output</span>
</span></span><span class="line"><span class="cl"><span class="n">br</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> reference </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> blur.ratio </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1696441 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1550204 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1878740 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1636799 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1624921 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2163882 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1337553 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1659126 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1568102 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1218592 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0842452 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0987994 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1079132 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0998406 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1446119 </td>
  </tr>
</tbody>
</table></div>
&nbsp;
<p>The output data frame is similar to input data, except that it includes two new columns (&lsquo;reference&rsquo; and &lsquo;blur.ratio&rsquo;) with the reference signal and blur ratio values. Note that <code>NAs</code> are returned for signals used as reference and &lsquo;ambient&rsquo; noise selections.</p>
<p>If <code>img = TRUE</code> it also returns 1 image file (in &lsquo;jpeg&rsquo; format) for each comparison showing spectrograms of both signals and the overlaid amplitude envelopes (as probability mass functions (PMF)).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run blur ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">br</span> <span class="o">&lt;-</span> <span class="nf">blur_ratio</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">ssmooth</span> <span class="o">=</span> <span class="m">300</span><span class="p">,</span> <span class="n">dest.path</span> <span class="o">=</span> <span class="n">td</span><span class="p">)</span>
</span></span></code></pre></div><p>Output image files (in the working directory) look like these ones:</p>
<img src="/./img/blur_ratio_example.gif" title="plot of chunk barulho49" alt="plot of chunk barulho49" width="600px" style="display: block; margin: auto;" />
<!-- <center><img src="./img/blur_ratio_example.gif" alt="time sync with spcc_align"></center> -->
<p> </p>
<p>The image shows the spectrogram for the reference and re-recorded signal, as well as the envelopes of both signals overlaid in a single graph. Colors indicate to which signal spectrograms and envelopes belong to. The blur ratio value is also displayed.</p>
<p>The function can also return the amplitude spectrum contours when the argument <code>output = &quot;list&quot;</code>. The contours can be directly input into ggplot to visualize amplitude envelopes, and how they vary with distance and across signal types (and ambient noise if included):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">envs</span> <span class="o">&lt;-</span> <span class="nf">blur_ratio</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">playback_est</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;list&#34;</span><span class="p">,</span> <span class="n">ssmooth</span> <span class="o">=</span> <span class="m">300</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span><span class="o">$</span><span class="n">envelopes</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">envs</span><span class="o">$</span><span class="n">distance</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">envs</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">envs</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span> <span class="n">time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">amp</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">distance</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">signal.type</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="nf">viridis</span><span class="p">(</span><span class="m">4</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Time (s)&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Amplitude (PMF)&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">theme_classic</span><span class="p">()</span>
</span></span></code></pre></div><p>















  
  
      
      
  <picture>
  <img class="img-fluid" src="marce10.github.io/coded_bioacustics/img/barulho50-1.png?v=83a4ea8de55a2078c74b03079fef0420" alt="plot of chunk barulho50" loading="lazy" height="420px" width="560px" />
</picture>
</p>
<p>Note than the <code>smooth</code> argument could change envelope shapes and related measurements. The following code sets <code>smooth = 800</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">envs</span> <span class="o">&lt;-</span> <span class="nf">blur_ratio</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">playback_est</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;list&#34;</span><span class="p">,</span> <span class="n">ssmooth</span> <span class="o">=</span> <span class="m">1000</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span><span class="o">$</span><span class="n">envelopes</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">envs</span><span class="o">$</span><span class="n">distance</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">envs</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">envs</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span> <span class="n">time</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">amp</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">distance</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">signal.type</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="nf">viridis</span><span class="p">(</span><span class="m">4</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Time (s)&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Amplitude (PMF)&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">theme_classic</span><span class="p">()</span>
</span></span></code></pre></div><p>















  
  
      
      
  <picture>
  <img class="img-fluid" src="marce10.github.io/coded_bioacustics/img/barulho51-1.png?v=6b170836902196afa5bd48b24543a3b3" alt="plot of chunk barulho51" loading="lazy" height="420px" width="560px" />
</picture>
</p>
<p> </p>
<h3 id="spectral-blur-ratio">Spectral blur ratio</h3>
<p>Spectral blur ratio (measured by <code>spectral_blur_ratio()</code>) quantifies the degradation of sound as a function of the change in signal energy across the frequency domain, analogous to the blur ratio described above for the time domain (and implemented in <code>blur_ratio()</code>). Low values also indicate low degradation of signals. Spectral blur ratio is measured as the mismatch between power spectra (expressed as probability density functions) of the reference signal and the re-recorded signal. It works in the same way than <code>blur_ratio()</code>, comparing each signal type to the corresponding reference signal, and the output and images are alike as well.</p>
<p>Spectral blur ratio can be calculated as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run Spectral blur ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">sbr</span> <span class="o">&lt;-</span> <span class="nf">spectral_blur_ratio</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">img</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">dest.path</span> <span class="o">=</span> <span class="n">td</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">sbr</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># see output</span>
</span></span><span class="line"><span class="cl"><span class="n">sbr</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> reference </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> spectral.blur.ratio </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2347261 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2092020 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2496310 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2002882 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1985646 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3093725 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1714666 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1743499 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2153572 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1877782 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1603583 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1635668 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1323740 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1509196 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3568783 </td>
  </tr>
</tbody>
</table></div>
&nbsp;
<img src="/./img/spectral_blur_ratio_example.gif" title="plot of chunk barulho56" alt="plot of chunk barulho56" width="600px" style="display: block; margin: auto;" />
<!-- <center><img src="./img/spectral_blur_ratio_example.gif" alt="spectral blur-ratio"></center> -->
<p> </p>
<p>As in <code>blur_ratio()</code>, <code>spectral_blur_ratio()</code> can also return the amplitude spectrum contours with the argument <code>output = &quot;list&quot;</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">sbr</span> <span class="o">&lt;-</span> <span class="nf">spectral_blur_ratio</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">playback_est</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s">&#34;list&#34;</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">spctr</span> <span class="o">&lt;-</span> <span class="n">sbr</span><span class="o">$</span><span class="n">spectra</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">spctr</span><span class="o">$</span><span class="n">distance</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">spctr</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">spctr</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="n">amp</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">freq</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">distance</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">signal.type</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="nf">viridis</span><span class="p">(</span><span class="m">4</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Frequency (kHz)&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Amplitude (PMF)&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">coord_flip</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">theme_classic</span><span class="p">()</span>
</span></span></code></pre></div><p>















  
  
      
      
  <picture>
  <img class="img-fluid" src="marce10.github.io/coded_bioacustics/img/barulho57-1.png?v=8d9f0c994cf71a837dcf2c0d43ddf061" alt="plot of chunk barulho57" loading="lazy" height="420px" width="560px" />
</picture>
</p>
<p>We can also zoom in to the frequency range of the signals by subsetting the spectrum data:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># get the frequencies higher than lowest bottom but lower than highest top freq</span>
</span></span><span class="line"><span class="cl"><span class="n">spctr</span> <span class="o">&lt;-</span> <span class="n">spctr[spctr</span><span class="o">$</span><span class="n">freq</span> <span class="o">&gt;</span> <span class="nf">min</span><span class="p">(</span><span class="n">playback_est</span><span class="o">$</span><span class="n">bottom.freq</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">spctr</span><span class="o">$</span><span class="n">freq</span> <span class="o">&lt;</span> <span class="nf">max</span><span class="p">(</span><span class="n">playback_est</span><span class="o">$</span><span class="n">top.freq</span><span class="p">),</span> <span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">spctr</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="n">amp</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">freq</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">distance</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">signal.type</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="nf">viridis</span><span class="p">(</span><span class="m">4</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Frequency (kHz)&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Amplitude (PMF)&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">coord_flip</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">theme_classic</span><span class="p">()</span>
</span></span></code></pre></div><p>















  
  
      
      
  <picture>
  <img class="img-fluid" src="marce10.github.io/coded_bioacustics/img/barulho58-1.png?v=ce12d9d9fb638132fcc9f3a6878a13bf" alt="plot of chunk barulho58" loading="lazy" height="420px" width="560px" />
</picture>

 </p>
<h3 id="envelope-correlation">Envelope correlation</h3>
<p>Amplitude envelope correlation measures the similarity of two signals in the time domain. The <code>envelope_correlation()</code> function measures the envelope correlation coefficients between reference playback and re-recorded signals. Values close to 1 means very similar amplitude envelopes (i.e. little degradation has occurred). If envelopes have different lengths (that is when signals have different lengths) cross-correlation is applied and the maximum correlation coefficient is returned. Cross-correlation is achieved by sliding the shortest signal along the largest one and calculating the correlation at each step. As in the functions detailed above, &lsquo;signal.type&rsquo; column must be used to instruct the function to only compare signals that belong to the same category.</p>
<p><code>envelope_correlation()</code> can be run as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run  envelope correlation</span>
</span></span><span class="line"><span class="cl"><span class="n">ec</span> <span class="o">&lt;-</span> <span class="nf">envelope_correlation</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">ec</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><p>The output is also similar to those of other functions; an extended selection table similar to input data, but also includes two new columns (&lsquo;reference&rsquo; and  &rsquo;envelope.correlation&rsquo;)
with the reference signal and the amplitude envelope correlation coefficients:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># print output</span>
</span></span><span class="line"><span class="cl"><span class="n">ec</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> reference </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> envelope.correlation </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.5179993 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.4553352 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3902799 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.4667224 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3123941 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2020629 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.5144656 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3955636 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3939530 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0156232 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0707046 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1025534 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0682781 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0467000 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0570856 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0510832 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2334704 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.4702104 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7096758 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.4870598 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.5008348 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2479809 </td>
  </tr>
</tbody>
</table></div>
<p> </p>
<p>Note that this function doesn&rsquo;t provide a graphical output. However, the graphs generated by <code>blur_ratio()</code> can be used to inspect the envelope shapes and the alignment of signals.</p>
<h3 id="spectral-correlation">Spectral correlation</h3>
<p>Spectrum correlation measures the similarity of two signals in the frequency domain. This is similar to <code>spectral_correlation()</code>, but no cross-correlation is applied as both signals are compared within the frequency range of the reference signal (so both spectra have the same length). Again, values near 1 indicate identical frequency spectrum  (i.e. no degradation).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run spectral correlation</span>
</span></span><span class="line"><span class="cl"><span class="n">sc</span> <span class="o">&lt;-</span> <span class="nf">spectral_correlation</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><p>The output is also similar to that of <code>envelope_correlation()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># print output</span>
</span></span><span class="line"><span class="cl"><span class="n">sc</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> reference </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> spectral.correlation </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7605580 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7871713 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.6963706 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8736971 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8868350 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7154816 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8583617 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8761814 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8428561 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0053162 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0326161 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0414812 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> -0.1643272 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0881267 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0185554 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-3 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0395085 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9001943 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9470365 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9486981 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9724196 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9734489 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.9045800 </td>
  </tr>
</tbody>
</table></div>
<p> </p>
<p>As in <code>envelope_correlation()</code>, <code>spectral_correlation()</code> doesn&rsquo;t provide a graphical output. However, the graphs generated by <code>spectral_blur_ratio()</code> can also be used to inspect the spectrum shapes and the signal alignment.</p>
<h3 id="signal-to-noise-ratio">Signal-to-noise ratio</h3>
<p>Signal-to-noise ratio (SNR) quantifies signal amplitude level in relation to ambient noise as a metric of overall signal attenuation. Therefore, attenuation refers to the loss of energy as described by Dabelsteen et al (1993). This method is implemented in the function <code>snr()</code>. The function requires a measurement of ambient noise, which could either be the noise right before each signal (<code>noise.ref = &quot;adjacent&quot;</code>) or one or more ambient noise measurements per recording (<code>noise.ref = &quot;custom&quot;</code>). For the latter, selections on signal parameters in which ambient noise will be measured must be specified. Alternatively, one or more selections of ambient noise can be used as reference (see &rsquo;noise.ref&rsquo; argument). This can potentially provide a more accurate representation of ambient noise. When margins overlap with another acoustic signal nearby, SNR will be inaccurate, so margin length should be carefully considered. Any SNR less than or equal to one suggests background noise is equal to or overpowering the acoustic signal. SNR can be measured as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run blur ratio</span>
</span></span><span class="line"><span class="cl"><span class="n">sa</span> <span class="o">&lt;-</span> <span class="nf">snr</span><span class="p">(</span><span class="n">playback_est</span><span class="p">,</span>  <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">noise.ref</span> <span class="o">=</span> <span class="s">&#34;custom&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><p>The output is also similar to the other functions:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># print output</span>
</span></span><span class="line"><span class="cl"><span class="n">sa</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.to.noise.ratio </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3462523 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1744101 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1529208 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1752879 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.2657129 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0635699 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0664457 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0923855 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3827000 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1152440 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1069094 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.1184107 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3836962 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3466712 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3192366 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3631548 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.6139621 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0577385 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0668349 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.0235642 </td>
  </tr>
</tbody>
</table></div>
<p> </p>
<p>Note that this function does not compare signals to references, so no reference column is added.</p>
<h3 id="spectrogram-distortion">Spectrogram distortion</h3>
<p>Finally, the function <code>spcc()</code> measures spectrogram cross-correlation as a metric of signal distortion of signals. Values close to 1 means very similar spectrograms (i.e. little signal distortion). The function is a wrapper on <a href="https://cran.r-project.org/package=warbleR">warbleR</a>&rsquo;s <code>xcorr()</code>. It can be run as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># run spcc</span>
</span></span><span class="line"><span class="cl"><span class="n">spd</span> <span class="o">&lt;-</span> <span class="nf">spcc</span><span class="p">(</span><span class="n">X</span> <span class="o">=</span> <span class="n">playback_est</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check output class</span>
</span></span><span class="line"><span class="cl"><span class="nf">is_extended_selection_table</span><span class="p">(</span><span class="n">spd</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">## [1] TRUE
</span></span></code></pre></div><p>And again, the output is similar to other functions:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># print output</span>
</span></span><span class="line"><span class="cl"><span class="n">spd</span>
</span></span></code></pre></div><div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; "><table class="table table-striped" style="font-size: 10px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> sound.files </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> selec </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> start </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> end </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> bottom.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> top.freq </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> signal.type </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> distance </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> reference </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> cross.correlation </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0500000 </td>
   <td style="text-align:center;"> 0.2072789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0444060 </td>
   <td style="text-align:center;"> 0.2016849 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7885754 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7674718 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 0.0420688 </td>
   <td style="text-align:center;"> 0.1993477 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> CCE-F1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.6779500 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0500000 </td>
   <td style="text-align:center;"> 1.2444898 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0465092 </td>
   <td style="text-align:center;"> 1.2409990 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7239949 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7389576 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 1.0418547 </td>
   <td style="text-align:center;"> 1.2363445 </td>
   <td style="text-align:center;"> 1.544095 </td>
   <td style="text-align:center;"> 10.89459 </td>
   <td style="text-align:center;"> CCE-I2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-4 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.3966096 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5500000 </td>
   <td style="text-align:center;"> 1.6814512 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5482417 </td>
   <td style="text-align:center;"> 1.6796930 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.6820151 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7047705 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 1.5423809 </td>
   <td style="text-align:center;"> 1.6738321 </td>
   <td style="text-align:center;"> 2.376997 </td>
   <td style="text-align:center;"> 11.72750 </td>
   <td style="text-align:center;"> CCL-K2 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.5524334 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 0.7980000 </td>
   <td style="text-align:center;"> 0.9552789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 1.7650000 </td>
   <td style="text-align:center;"> 1.9222789 </td>
   <td style="text-align:center;"> 2.238685 </td>
   <td style="text-align:center;"> 11.58918 </td>
   <td style="text-align:center;"> ambient </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5500000 </td>
   <td style="text-align:center;"> 0.7000680 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5464984 </td>
   <td style="text-align:center;"> 0.6965664 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8120426 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8339210 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> 0.5418296 </td>
   <td style="text-align:center;"> 0.6918977 </td>
   <td style="text-align:center;"> 1.743639 </td>
   <td style="text-align:center;"> 11.09414 </td>
   <td style="text-align:center;"> SUR-A4 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-2 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.7470523 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 01m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0499773 </td>
   <td style="text-align:center;"> 2.1885488 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 05m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0494093 </td>
   <td style="text-align:center;"> 2.1879808 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8585227 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.8392497 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 15m_re-rec.wav </td>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> 2.0423533 </td>
   <td style="text-align:center;"> 2.1809248 </td>
   <td style="text-align:center;"> 2.030939 </td>
   <td style="text-align:center;"> 11.38144 </td>
   <td style="text-align:center;"> SUR-K1 </td>
   <td style="text-align:center;"> 15 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 01m_re-rec.wav-7 </td>
   <td style="text-align:center;font-weight: bold;background-color: #ccebff !important;"> 0.6917547 </td>
  </tr>
</tbody>
</table></div>
<p> </p>
<hr>
<p>Please report any bugs <a href="https://github.com/maRce10/baRulho/issues">here</a>.</p>
<p>The package <a href="https://marce10.github.io/baRulho/">baRulho</a> should be cited as follows:</p>
<p>Araya-Salas, M. (2020), <em>baRulho: quantifying habitat-induced degradation of (animal) acoustic signals in R</em>. R package version 1.0.0.</p>
<hr>
<h1 id="references">References</h1>
<ol>
<li>
<p>Araya-Salas, M. (2017). <em>Rraven: connecting R and Raven bioacoustic software</em>. R package version 1.0.0.</p>
</li>
<li>
<p>Araya-Salas M, Smith-Vidaurre G (2017) <em>warbleR: An R package to streamline analysis of animal acoustic signals</em>. Methods Ecol Evol 8:184–191.</p>
</li>
<li>
<p>Dabelsteen, T., Larsen, O. N., &amp; Pedersen, S. B. (1993). <em>Habitat-induced degradation of sound signals: Quantifying the effects of communication sounds and bird location on blur ratio, excess attenuation, and signal-to-noise ratio in blackbird song</em>. The Journal of the Acoustical Society of America, 93(4), 2206.</p>
</li>
<li>
<p>Marten, K., &amp; Marler, P. (1977). <em>Sound transmission and its significance for animal vocalization. Behavioral</em> Ecology and Sociobiology, 2(3), 271-290.</p>
</li>
<li>
<p>Morton, E. S. (1975). <em>Ecological sources of selection on avian sounds</em>. The American Naturalist, 109(965), 17-34.</p>
</li>
<li>
<p>Tobias, J. A., Aben, J., Brumfield, R. T., Derryberry, E. P., Halfwerk, W., Slabbekoorn, H., &amp; Seddon, N. (2010). <em>Song divergence by sensory drive in Amazonian birds</em>. Evolution, 64(10), 2820-2839.</p>
</li>
</ol>
<hr>
<p><font size="4">Session information</font></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1">## R version 3.6.1 (2019-07-05)</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Platform: x86_64-pc-linux-gnu (64-bit)</span>
</span></span><span class="line"><span class="cl"><span class="c1">## Running under: Ubuntu 18.04.3 LTS</span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## Matrix products: default</span>
</span></span><span class="line"><span class="cl"><span class="c1">## BLAS:   /usr/lib/x86_64-linux-gnu/atlas/libblas.so.3.10.3</span>
</span></span><span class="line"><span class="cl"><span class="c1">## LAPACK: /usr/lib/x86_64-linux-gnu/atlas/liblapack.so.3.10.3</span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## locale:</span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [1] LC_CTYPE=es_ES.UTF-8      </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [2] LC_NUMERIC=C              </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [3] LC_TIME=es_CR.UTF-8       </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [4] LC_COLLATE=es_ES.UTF-8    </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [5] LC_MONETARY=es_CR.UTF-8   </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [6] LC_MESSAGES=es_ES.UTF-8   </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [7] LC_PAPER=es_CR.UTF-8      </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [8] LC_NAME=C                 </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [9] LC_ADDRESS=C              </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [10] LC_TELEPHONE=C            </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [11] LC_MEASUREMENT=es_CR.UTF-8</span>
</span></span><span class="line"><span class="cl"><span class="c1">## [12] LC_IDENTIFICATION=C       </span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## attached base packages:</span>
</span></span><span class="line"><span class="cl"><span class="c1">## [1] stats     graphics  grDevices utils    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [5] datasets  methods   base     </span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## other attached packages:</span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [1] viridis_0.5.1      viridisLite_0.3.0 </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [3] ggplot2_3.2.1      kableExtra_1.1.0  </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [5] baRulho_1.0.1      warbleR_1.1.22    </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [7] NatureSounds_1.0.2 seewave_2.1.5     </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [9] tuneR_1.3.3        knitr_1.28        </span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## loaded via a namespace (and not attached):</span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [1] tidyselect_0.2.5 xfun_0.12       </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [3] purrr_0.3.3      pbapply_1.4-2   </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [5] colorspace_1.4-1 vctrs_0.2.0     </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [7] htmltools_0.4.0  yaml_2.2.1      </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  [9] rlang_0.4.1      pracma_2.2.9    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [11] pillar_1.4.2     withr_2.1.2     </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [13] glue_1.3.1       stringr_1.4.0   </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [15] munsell_0.5.0    gtable_0.3.0    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [17] rvest_0.3.5      evaluate_0.14   </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [19] labeling_0.3     fftw_1.0-6      </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [21] parallel_3.6.1   highr_0.8       </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [23] Rcpp_1.0.3       readr_1.3.1     </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [25] backports_1.1.5  scales_1.0.0    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [27] webshot_0.5.1    Sim.DiffProc_4.4</span>
</span></span><span class="line"><span class="cl"><span class="c1">## [29] gridExtra_2.3    Deriv_4.0       </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [31] rjson_0.2.20     hms_0.5.2       </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [33] digest_0.6.22    stringi_1.4.6   </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [35] dplyr_0.8.3      dtw_1.21-3      </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [37] grid_3.6.1       tools_3.6.1     </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [39] bitops_1.0-6     magrittr_1.5    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [41] maps_3.3.0       RCurl_1.98-1.1  </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [43] lazyeval_0.2.2   proxy_0.4-23    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [45] tibble_2.1.3     crayon_1.3.4    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [47] pkgconfig_2.0.3  zeallot_0.1.0   </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [49] MASS_7.3-51.4    xml2_1.2.2      </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [51] assertthat_0.2.1 rmarkdown_1.17  </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [53] httr_1.4.1       rstudioapi_0.10 </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [55] R6_2.4.1         signal_0.7-6    </span>
</span></span><span class="line"><span class="cl"><span class="c1">## [57] compiler_3.6.1</span>
</span></span></code></pre></div>

        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f&amp;text=baRulho%3a%20an%20R%20package%20to%20quantify%20%28animal%29%20acoustic%20signal%20transmission%20and%20degradation&amp;via=Marcelo_Araya_Salas" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f&amp;title=baRulho%3a%20an%20R%20package%20to%20quantify%20%28animal%29%20acoustic%20signal%20transmission%20and%20degradation" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f&amp;title=baRulho%3a%20an%20R%20package%20to%20quantify%20%28animal%29%20acoustic%20signal%20transmission%20and%20degradation" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f&amp;title=baRulho%3a%20an%20R%20package%20to%20quantify%20%28animal%29%20acoustic%20signal%20transmission%20and%20degradation" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=marce10.github.io%2fcoded_bioacustics%2fpost%2f2020-02-13-barulho%2f&amp;description=baRulho%3a%20an%20R%20package%20to%20quantify%20%28animal%29%20acoustic%20signal%20transmission%20and%20degradation" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="marce10.github.io/coded_bioacustics/post/2019-01-12-selection_table_vs_template_xcorr/" data-toggle="tooltip" data-placement="top" title="Compare signals from selection tables to a set of templates using cross-correlation">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="marce10.github.io/coded_bioacustics/post/2016-12-15-detecting_signals_with_monitor/" data-toggle="tooltip" data-placement="top" title="Signal detection with cross-correlation using monitoR ">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">                  
            <button id="show-comments" class="btn btn-default" type="button">Show <span class="disqus-comment-count" data-disqus-url="marce10.github.io/coded_bioacustics/post/2020-02-13-barulho">comments</span></button>
            <div id="disqus_thread"></div>

            <script type="text/javascript">
              var disqus_config = function () {
              this.page.url = 'marce10.github.io\/coded_bioacustics\/post\/2020-02-13-barulho';
            };

          </script>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="https://github.com/maRce10" title="GitHub">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://twitter.com/Marcelo_Araya_Salas" title="Twitter">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://www.youtube.com/@MrBioacoustics" title="Youtube">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="marce10.github.io/coded_bioacustics/">Coded bioacoustics</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.121.2</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="marce10.github.io/coded_bioacustics/js/main.js"></script>
<script src="marce10.github.io/coded_bioacustics/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="marce10.github.io/coded_bioacustics/js/load-photoswipe.js"></script>








<script type="text/javascript">
$(function(){
  $('#show-comments').on('click', function(){
    var disqus_shortname = 'maRce_10';
      
    (function() {
      var disqus = document.createElement('script'); 
      disqus.type = 'text/javascript'; 
      disqus.async = true;
      disqus.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(disqus);
    })();
      
    $(this).hide(); 
    });
  });
      
</script>
<script id="dsq-count-scr" src="//maRce_10.disqus.com/count.js" async></script>




    
  </body>
</html>

